import{r as l,j as e}from"./ui-C9UzXxo-.js";import{P as q}from"./page-template-B2HXPu-s.js";import{u as T,K as E,B as b,c as C}from"./app-CePVSpCk.js";import{S as D}from"./scroll-area-B6c1Z5Wm.js";import{T as k}from"./toaster-CcEO608D.js";import I from"./referral-dashboard-DG88Ykxw.js";import U from"./payout-requests-CPGcHbcc.js";import B from"./referral-settings-kDpUO7tl.js";import{C as L}from"./chart-column-BuvtPv5K.js";import{U as A}from"./users-B2V-gWAi.js";import{D as V}from"./dollar-sign-BZxmLz_1.js";import{S as K}from"./settings-CabqR4KC.js";import"./vendor-CxtKjBZA.js";import"./textarea-CiZFgYfM.js";import"./select-79vLaRYu.js";import"./index-BK2YBUn9.js";import"./chevron-up-FpzKnv5W.js";import"./language-BWaL1pXC.js";import"./CookieConsentBanner-9JM6Tk5v.js";import"./globe-DIoyL4mD.js";import"./switch-BT9_4soN.js";import"./copy-BbEiGrsE.js";import"./credit-card-Cw26BS3B.js";import"./clock-DvHC5ovF.js";import"./coins-Curs0q0e.js";import"./user-Cs-z8Fus.js";import"./use-favicon-BlwZF4jE.js";/* empty css            *//* empty css                  */import"./utils-2yqaTY3d.js";import"./trending-up-Ne7cjba9.js";import"./award-T4ZI43xQ.js";import"./table-C8TGnN1g.js";function Re(){const{t:r}=T(),{props:c}=E(),{userType:o,settings:m,stats:f,payoutRequests:R,referralLink:g,currencySymbol:n}=c,[N,i]=l.useState("dashboard"),w=[{title:r("Dashboard"),href:route("dashboard")},{title:r("Referral Program")}],y=[{title:r("Dashboard"),href:"#dashboard",icon:e.jsx(L,{className:"h-4 w-4 mr-2"})},{title:r("Referred Users"),href:route("referral.referred-users"),icon:e.jsx(A,{className:"h-4 w-4 mr-2"}),external:!0},{title:r("Payout Requests"),href:"#payout-requests",icon:e.jsx(V,{className:"h-4 w-4 mr-2"})},...o==="superadmin"?[{title:r("Settings"),href:"#settings",icon:e.jsx(K,{className:"h-4 w-4 mr-2"})}]:[]],d=l.useRef(null),h=l.useRef(null),p=l.useRef(null);l.useEffect(()=>{const s=()=>{var u,x,j;const t=window.scrollY+100;(u=d.current)!=null&&u.offsetTop;const S=((x=h.current)==null?void 0:x.offsetTop)||0,P=((j=p.current)==null?void 0:j.offsetTop)||0;o==="superadmin"&&t>=P?i("settings"):t>=S?i("payout-requests"):i("dashboard")};window.addEventListener("scroll",s);const a=window.location.hash.replace("#","");if(a){const t=document.getElementById(a);t&&(t.scrollIntoView({behavior:"smooth"}),i(a))}return()=>{window.removeEventListener("scroll",s)}},[o]);const v=s=>{const a=s.replace("#",""),t=document.getElementById(a);t&&(t.scrollIntoView({behavior:"smooth"}),i(a))};return e.jsxs(q,{breadcrumbs:w,title:r("Referral Program"),url:"/referral",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsx("div",{className:"md:w-64 flex-shrink-0",children:e.jsx("div",{className:"sticky top-20",children:e.jsx(D,{className:"h-[calc(100vh-5rem)]",children:e.jsx("div",{className:"pr-4 space-y-1",children:y.map(s=>s.external?e.jsx(b,{variant:"ghost",className:"w-full justify-start",asChild:!0,children:e.jsxs("a",{href:s.href,children:[s.icon,s.title]})},s.href):e.jsxs(b,{variant:"ghost",className:C("w-full justify-start",{"bg-muted font-medium":N===s.href.replace("#","")}),onClick:()=>v(s.href),children:[s.icon,s.title]},s.href))})})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("section",{id:"dashboard",ref:d,className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("Dashboard")}),e.jsx(I,{userType:o,stats:f,referralLink:g,recentReferredUsers:c.recentReferredUsers,currencySymbol:n})]}),e.jsxs("section",{id:"payout-requests",ref:h,className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("Payout Requests")}),e.jsx(U,{userType:o,payoutRequests:R,settings:m,stats:f,currencySymbol:n})]}),o==="superadmin"&&e.jsxs("section",{id:"settings",ref:p,className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("Settings")}),e.jsx(B,{settings:m,currencySymbol:n})]})]})]}),e.jsx(k,{})]})}export{Re as default};
