import{r as f,j as e}from"./ui-C9UzXxo-.js";import{I as k,u as P,a9 as g,B as d,L as v}from"./app-CePVSpCk.js";import{S as N,a as y,b,c as w,d as C}from"./select-79vLaRYu.js";import{f as S}from"./utils-2yqaTY3d.js";import{C as B,L as E}from"./page-template-B2HXPu-s.js";import{F as I}from"./filter-CJHBgxPm.js";import{L as F}from"./list-gVaFRlBo.js";function R({selected:l,onSelect:t,onChange:c,placeholder:x="Pick a date",disabled:n=!1}){const[o,r]=f.useState(l?S(l,"yyyy-MM-dd"):""),h=i=>{if(r(i.target.value),i.target.value){const m=new Date(i.target.value);t&&t(m),c&&c(m)}else t&&t(void 0),c&&c(void 0)};return f.useEffect(()=>{r(l?S(l,"yyyy-MM-dd"):"")},[l]),e.jsxs("div",{className:"relative",children:[e.jsx(B,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(k,{type:"date",value:o,onChange:h,className:"pl-9 w-[240px]",disabled:n})]})}function J({searchTerm:l,onSearchChange:t,onSearch:c,filters:x=[],showFilters:n,setShowFilters:o,hasActiveFilters:r,activeFilterCount:h,onResetFilters:i,onApplyFilters:m,perPageOptions:z=[10,25,50,100],currentPerPage:L,onPerPageChange:D,showViewToggle:M=!1,activeView:p="list",onViewChange:u}){const{t:a}=P();return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("form",{onSubmit:c,className:"flex gap-2",children:[e.jsxs("div",{className:"relative w-64",children:[e.jsx(g,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(k,{placeholder:a("Search..."),value:l,onChange:s=>t(s.target.value),className:"w-full pl-9"})]}),e.jsxs(d,{type:"submit",size:"sm",children:[e.jsx(g,{className:"h-4 w-4 mr-1.5"}),a("Search")]})]}),x.length>0&&e.jsx("div",{className:"ml-2",children:e.jsxs(d,{variant:r()?"default":"outline",size:"sm",className:"h-8 px-2 py-1",onClick:()=>o(!n),children:[e.jsx(I,{className:"h-3.5 w-3.5 mr-1.5"}),a(n?"Hide Filters":"Filters"),r()&&e.jsx("span",{className:"ml-1 bg-primary-foreground text-primary rounded-full w-5 h-5 flex items-center justify-center text-xs",children:h()})]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[M&&u&&e.jsxs("div",{className:"border rounded-md p-0.5 mr-2",children:[e.jsx(d,{size:"sm",variant:p==="list"?"default":"ghost",className:"h-7 px-2",onClick:()=>u("list"),children:e.jsx(F,{className:"h-4 w-4"})}),e.jsx(d,{size:"sm",variant:p==="grid"?"default":"ghost",className:"h-7 px-2",onClick:()=>u("grid"),children:e.jsx(E,{className:"h-4 w-4"})})]}),e.jsx(v,{className:"text-xs text-muted-foreground",children:a("Per Page:")}),e.jsxs(N,{value:L,onValueChange:D,children:[e.jsx(y,{className:"w-16 h-8",children:e.jsx(b,{})}),e.jsx(w,{children:z.map(s=>e.jsx(C,{value:s.toString(),children:s},s))})]})]})]}),n&&x.length>0&&e.jsx("div",{className:"w-full mt-3 p-4 bg-gray-50 dark:bg-gray-800 border dark:border-gray-700 rounded-md",children:e.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[x.map(s=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:s.label}),s.type==="select"&&s.options&&e.jsxs(N,{value:s.value,onValueChange:s.onChange,children:[e.jsx(y,{className:"w-40",children:e.jsx(b,{placeholder:a(`All ${s.label}`)})}),e.jsx(w,{children:s.options.map(j=>e.jsx(C,{value:j.value||"_empty_",children:j.label},j.value||"empty"))})]}),s.type==="date"&&e.jsx(R,{selected:s.value,onSelect:s.onChange,onChange:s.onChange})]},s.name)),e.jsxs("div",{className:"flex gap-2",children:[m&&e.jsx(d,{variant:"default",size:"sm",className:"h-9",onClick:m,children:a("Apply Filters")}),e.jsx(d,{variant:"outline",size:"sm",className:"h-9",onClick:i,disabled:!r(),children:a("Reset Filters")})]})]})})]})}export{J as S};
