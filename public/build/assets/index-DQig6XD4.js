import{U as q,r as w,j as e}from"./ui-C9UzXxo-.js";import{P as Zs,S as _s}from"./page-template-B2HXPu-s.js";import{u as O,t as P,S as ne,L as X,I as J,B as _,C as I,p as S,aj as me,q as U,r as K,i as Bs,D as Qs,e as er,f as sr,h as rr,K as ar,m as tr,P as nr,X as ir}from"./app-CePVSpCk.js";import{S as cr}from"./switch-BT9_4soN.js";import{T as lr,a as or,b as Cs}from"./tabs-DRsPt7bW.js";import{C as dr}from"./CrudDeleteModal-CqSiuuPI.js";import{g as mr}from"./vendor-CxtKjBZA.js";import{a as D}from"./CookieConsentBanner-9JM6Tk5v.js";import{C as ur}from"./copy-BbEiGrsE.js";import{C as Ls}from"./circle-check-big-QRVzFaq_.js";import{C as E}from"./credit-card-Cw26BS3B.js";import{E as ae,T as hr,C as ge,P as xr}from"./tag-DLA_9-Gh.js";import{W as ke,B as pr,I as we}from"./wallet-DeVx02LK.js";import{A as R,a as z}from"./alert-rGxR9OJq.js";import{C as Ee}from"./coins-Curs0q0e.js";import{I as Fe}from"./info-Cfzy708t.js";import{C as B}from"./circle-alert-CPcUaQHG.js";import{C as ks}from"./circle-check-Bsqe1Oy2.js";import{T as fr}from"./trash-2-3E96f3UA.js";import{Z as yr}from"./zap-DH-5T0aI.js";import{C as jr}from"./clock-DvHC5ovF.js";import{H as br}from"./hard-drive-CvIusyLX.js";import{U as Es}from"./users-B2V-gWAi.js";import"./textarea-CiZFgYfM.js";import"./select-79vLaRYu.js";import"./index-BK2YBUn9.js";import"./chevron-up-FpzKnv5W.js";import"./language-BWaL1pXC.js";import"./settings-CabqR4KC.js";import"./dollar-sign-BZxmLz_1.js";import"./user-Cs-z8Fus.js";import"./use-favicon-BlwZF4jE.js";/* empty css            *//* empty css                  */import"./utils-2yqaTY3d.js";import"./globe-DIoyL4mD.js";var qs="basil",Nr=function(i){return i===3?"v3":i},Us="https://js.stripe.com",vr="".concat(Us,"/").concat(qs,"/stripe.js"),gr=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,wr=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Pr=function(i){return gr.test(i)||wr.test(i)},_r=function(){for(var i=document.querySelectorAll('script[src^="'.concat(Us,'"]')),n=0;n<i.length;n++){var c=i[n];if(Pr(c.src))return c}return null},Fs=function(i){var n="",c=document.createElement("script");c.src="".concat(vr).concat(n);var d=document.head||document.body;if(!d)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return d.appendChild(c),c},Cr=function(i,n){!i||!i._registerWrapper||i._registerWrapper({name:"stripe-js",version:"7.4.0",startTime:n})},pe=null,ye=null,je=null,kr=function(i){return function(n){i(new Error("Failed to load Stripe.js",{cause:n}))}},Er=function(i,n){return function(){window.Stripe?i(window.Stripe):n(new Error("Stripe.js not available"))}},Fr=function(i){return pe!==null?pe:(pe=new Promise(function(n,c){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var d=_r();if(!(d&&i)){if(!d)d=Fs(i);else if(d&&je!==null&&ye!==null){var h;d.removeEventListener("load",je),d.removeEventListener("error",ye),(h=d.parentNode)===null||h===void 0||h.removeChild(d),d=Fs(i)}}je=Er(n,c),ye=kr(c),d.addEventListener("load",je),d.addEventListener("error",ye)}catch(N){c(N);return}}),pe.catch(function(n){return pe=null,Promise.reject(n)}))},Tr=function(i,n,c){if(i===null)return null;var d=n[0],h=d.match(/^pk_test/),N=Nr(i.version),y=qs;h&&N!==y&&console.warn("Stripe.js@".concat(N," was loaded on the page, but @stripe/stripe-js@").concat("7.4.0"," expected Stripe.js@").concat(y,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var s=i.apply(void 0,n);return Cr(s,c),s},fe,Ks=!1,$s=function(){return fe||(fe=Fr(null).catch(function(i){return fe=null,Promise.reject(i)}),fe)};Promise.resolve().then(function(){return $s()}).catch(function(a){Ks||console.warn(a)});var Mr=function(){for(var i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];Ks=!0;var d=Date.now();return $s().then(function(h){return Tr(h,n,d)})},Pe={exports:{}},_e,Ts;function Or(){if(Ts)return _e;Ts=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return _e=a,_e}var Ce,Ms;function Ar(){if(Ms)return Ce;Ms=1;var a=Or();function i(){}function n(){}return n.resetWarningCache=i,Ce=function(){function c(N,y,s,t,f,l){if(l!==a){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}c.isRequired=c;function d(){return c}var h={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:d,element:c,elementType:c,instanceOf:d,node:c,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:n,resetWarningCache:i};return h.PropTypes=h,h},Ce}var Os;function Rr(){return Os||(Os=1,Pe.exports=Ar()()),Pe.exports}var zr=Rr();const Y=mr(zr);function As(a,i){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);i&&(c=c.filter(function(d){return Object.getOwnPropertyDescriptor(a,d).enumerable})),n.push.apply(n,c)}return n}function Rs(a){for(var i=1;i<arguments.length;i++){var n=arguments[i]!=null?arguments[i]:{};i%2?As(Object(n),!0).forEach(function(c){Ws(a,c,n[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):As(Object(n)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(n,c))})}return a}function be(a){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?be=function(i){return typeof i}:be=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},be(a)}function Ws(a,i,n){return i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a}function Ir(a,i){if(a==null)return{};var n={},c=Object.keys(a),d,h;for(h=0;h<c.length;h++)d=c[h],!(i.indexOf(d)>=0)&&(n[d]=a[d]);return n}function Sr(a,i){if(a==null)return{};var n=Ir(a,i),c,d;if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(a);for(d=0;d<h.length;d++)c=h[d],!(i.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(n[c]=a[c])}return n}function Ys(a,i){return Dr(a)||Br(a,i)||Lr(a,i)||qr()}function Dr(a){if(Array.isArray(a))return a}function Br(a,i){var n=a&&(typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"]);if(n!=null){var c=[],d=!0,h=!1,N,y;try{for(n=n.call(a);!(d=(N=n.next()).done)&&(c.push(N.value),!(i&&c.length===i));d=!0);}catch(s){h=!0,y=s}finally{try{!d&&n.return!=null&&n.return()}finally{if(h)throw y}}return c}}function Lr(a,i){if(a){if(typeof a=="string")return zs(a,i);var n=Object.prototype.toString.call(a).slice(8,-1);if(n==="Object"&&a.constructor&&(n=a.constructor.name),n==="Map"||n==="Set")return Array.from(a);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zs(a,i)}}function zs(a,i){(i==null||i>a.length)&&(i=a.length);for(var n=0,c=new Array(i);n<i;n++)c[n]=a[n];return c}function qr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var te=function(i,n,c){var d=!!c,h=q.useRef(c);q.useEffect(function(){h.current=c},[c]),q.useEffect(function(){if(!d||!i)return function(){};var N=function(){h.current&&h.current.apply(h,arguments)};return i.on(n,N),function(){i.off(n,N)}},[d,n,i,h])},Te=function(i){var n=q.useRef(i);return q.useEffect(function(){n.current=i},[i]),n.current},ue=function(i){return i!==null&&be(i)==="object"},Ur=function(i){return ue(i)&&typeof i.then=="function"},Kr=function(i){return ue(i)&&typeof i.elements=="function"&&typeof i.createToken=="function"&&typeof i.createPaymentMethod=="function"&&typeof i.confirmCardPayment=="function"},Is="[object Object]",$r=function a(i,n){if(!ue(i)||!ue(n))return i===n;var c=Array.isArray(i),d=Array.isArray(n);if(c!==d)return!1;var h=Object.prototype.toString.call(i)===Is,N=Object.prototype.toString.call(n)===Is;if(h!==N)return!1;if(!h&&!c)return i===n;var y=Object.keys(i),s=Object.keys(n);if(y.length!==s.length)return!1;for(var t={},f=0;f<y.length;f+=1)t[y[f]]=!0;for(var l=0;l<s.length;l+=1)t[s[l]]=!0;var o=Object.keys(t);if(o.length!==y.length)return!1;var b=i,v=n,x=function(j){return a(b[j],v[j])};return o.every(x)},Xs=function(i,n,c){return ue(i)?Object.keys(i).reduce(function(d,h){var N=!ue(n)||!$r(i[h],n[h]);return c.includes(h)?(N&&console.warn("Unsupported prop change: options.".concat(h," is not a mutable property.")),d):N?Rs(Rs({},d||{}),{},Ws({},h,i[h])):d},null):null},Hs="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Ss=function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs;if(i===null||Kr(i))return i;throw new Error(n)},Wr=function(i){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Hs;if(Ur(i))return{tag:"async",stripePromise:Promise.resolve(i).then(function(d){return Ss(d,n)})};var c=Ss(i,n);return c===null?{tag:"empty"}:{tag:"sync",stripe:c}},Yr=function(i){!i||!i._registerWrapper||!i.registerAppInfo||(i._registerWrapper({name:"react-stripe-js",version:"3.7.0"}),i.registerAppInfo({name:"react-stripe-js",version:"3.7.0",url:"https://stripe.com/docs/stripe-js/react"}))},Ne=q.createContext(null);Ne.displayName="ElementsContext";var Js=function(i,n){if(!i)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return i},Vs=function(i){var n=i.stripe,c=i.options,d=i.children,h=q.useMemo(function(){return Wr(n)},[n]),N=q.useState(function(){return{stripe:h.tag==="sync"?h.stripe:null,elements:h.tag==="sync"?h.stripe.elements(c):null}}),y=Ys(N,2),s=y[0],t=y[1];q.useEffect(function(){var o=!0,b=function(x){t(function(m){return m.stripe?m:{stripe:x,elements:x.elements(c)}})};return h.tag==="async"&&!s.stripe?h.stripePromise.then(function(v){v&&o&&b(v)}):h.tag==="sync"&&!s.stripe&&b(h.stripe),function(){o=!1}},[h,s,c]);var f=Te(n);q.useEffect(function(){f!==null&&f!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[f,n]);var l=Te(c);return q.useEffect(function(){if(s.elements){var o=Xs(c,l,["clientSecret","fonts"]);o&&s.elements.update(o)}},[c,l,s.elements]),q.useEffect(function(){Yr(s.stripe)},[s.stripe]),q.createElement(Ne.Provider,{value:s},d)};Vs.propTypes={stripe:Y.any,options:Y.object};var Xr=function(i){var n=q.useContext(Ne);return Js(n,i)},Hr=function(){var i=Xr("calls useElements()"),n=i.elements;return n};Y.func.isRequired;var Gs=q.createContext(null);Gs.displayName="CheckoutSdkContext";var Jr=function(i,n){if(!i)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return i},Vr=q.createContext(null);Vr.displayName="CheckoutContext";Y.any,Y.shape({fetchClientSecret:Y.func.isRequired,elementsOptions:Y.object}).isRequired;var Me=function(i){var n=q.useContext(Gs),c=q.useContext(Ne);if(n&&c)throw new Error("You cannot wrap the part of your app that ".concat(i," in both <CheckoutProvider> and <Elements> providers."));return n?Jr(n,i):Js(c,i)},Gr=["mode"],Zr=function(i){return i.charAt(0).toUpperCase()+i.slice(1)},G=function(i,n){var c="".concat(Zr(i),"Element"),d=function(s){var t=s.id,f=s.className,l=s.options,o=l===void 0?{}:l,b=s.onBlur,v=s.onFocus,x=s.onReady,m=s.onChange,j=s.onEscape,u=s.onClick,p=s.onLoadError,g=s.onLoaderStart,M=s.onNetworksChange,T=s.onConfirm,L=s.onCancel,Q=s.onShippingAddressChange,ee=s.onShippingRateChange,k=Me("mounts <".concat(c,">")),V="elements"in k?k.elements:null,W="checkoutSdk"in k?k.checkoutSdk:null,ce=q.useState(null),F=Ys(ce,2),A=F[0],se=F[1],re=q.useRef(null),le=q.useRef(null);te(A,"blur",b),te(A,"focus",v),te(A,"escape",j),te(A,"click",u),te(A,"loaderror",p),te(A,"loaderstart",g),te(A,"networkschange",M),te(A,"confirm",T),te(A,"cancel",L),te(A,"shippingaddresschange",Q),te(A,"shippingratechange",ee),te(A,"change",m);var oe;x&&(i==="expressCheckout"?oe=x:oe=function(){x(A)}),te(A,"ready",oe),q.useLayoutEffect(function(){if(re.current===null&&le.current!==null&&(V||W)){var r=null;if(W)switch(i){case"payment":r=W.createPaymentElement(o);break;case"address":if("mode"in o){var C=o.mode,H=Sr(o,Gr);if(C==="shipping")r=W.createShippingAddressElement(H);else if(C==="billing")r=W.createBillingAddressElement(H);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":r=W.createExpressCheckoutElement(o);break;case"currencySelector":r=W.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(c,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else V&&(r=V.create(i,o));re.current=r,se(r),r&&r.mount(le.current)}},[V,W,o]);var ie=Te(o);return q.useEffect(function(){if(re.current){var r=Xs(o,ie,["paymentRequest"]);r&&"update"in re.current&&re.current.update(r)}},[o,ie]),q.useLayoutEffect(function(){return function(){if(re.current&&typeof re.current.destroy=="function")try{re.current.destroy(),re.current=null}catch{}}},[]),q.createElement("div",{id:t,className:f,ref:le})},h=function(s){Me("mounts <".concat(c,">"));var t=s.id,f=s.className;return q.createElement("div",{id:t,className:f})},N=n?h:d;return N.propTypes={id:Y.string,className:Y.string,onChange:Y.func,onBlur:Y.func,onFocus:Y.func,onReady:Y.func,onEscape:Y.func,onClick:Y.func,onLoadError:Y.func,onLoaderStart:Y.func,onNetworksChange:Y.func,onConfirm:Y.func,onCancel:Y.func,onShippingAddressChange:Y.func,onShippingRateChange:Y.func,options:Y.object},N.displayName=c,N.__elementType=i,N},Z=typeof window>"u",Qr=q.createContext(null);Qr.displayName="EmbeddedCheckoutProviderContext";var ea=function(){var i=Me("calls useStripe()"),n=i.stripe;return n};G("auBankAccount",Z);var Ds=G("card",Z);G("cardNumber",Z);G("cardExpiry",Z);G("cardCvc",Z);G("fpxBank",Z);G("iban",Z);G("idealBank",Z);G("p24Bank",Z);G("epsBank",Z);G("payment",Z);G("expressCheckout",Z);G("currencySelector",Z);G("paymentRequestButton",Z);G("linkAuthentication",Z);G("address",Z);G("shippingAddress",Z);G("paymentMethodMessaging",Z);G("affirmMessage",Z);G("afterpayClearpayMessage",Z);function ve(a={}){const{t:i}=O(),[n,c]=w.useState(!1),d=async(y,s)=>{c(!0);const f={stripe:"stripe.payment",paypal:"paypal.payment",bank:"bank.payment",razorpay:"razorpay.payment",mercadopago:"mercadopago.payment",paystack:"paystack.payment",flutterwave:"flutterwave.payment"}[y];if(!f){P.error(i("Invalid payment method")),c(!1);return}const l=N(y,s);ne.post(route(f),l,{onSuccess:o=>{var b,v,x;(v=(b=o.props)==null?void 0:b.flash)!=null&&v.success?P.success(i(o.props.flash.success)):P.success(i("Payment successful")),(x=a.onSuccess)==null||x.call(a)},onError:o=>{var v;const b=(o==null?void 0:o.message)||(o==null?void 0:o.error)||i("Payment failed");P.error(b),(v=a.onError)==null||v.call(a,b)},onFinish:()=>{c(!1)}})},h=(y,s)=>{const f={stripe:["payment_method_id","cardholder_name"],paypal:["order_id","payment_id"],bank:["amount"],razorpay:["payment_id","order_id","signature"],mercadopago:["payment_id","status"],paystack:["payment_id"],flutterwave:["payment_id"]}[y]||[];for(const l of f)if(!s[l])return P.error(i(`${l} is required`)),!1;return!0},N=(y,s)=>({plan_id:s.planId,billing_cycle:s.billingCycle,coupon_code:s.couponCode||"",...s});return{processing:n,processPayment:d,validatePaymentData:h,formatPaymentData:N}}const sa=({planId:a,couponCode:i,billingCycle:n,onSuccess:c,onCancel:d})=>{const{t:h}=O(),N=ea(),y=Hr(),[s,t]=w.useState(""),{processing:f,processPayment:l}=ve({onSuccess:c,onError:v=>P.error(v)}),o=async v=>{if(v.preventDefault(),!N||!y||!s.trim()){P.error(h("Please fill in all required fields"));return}const x=y.getElement(Ds);if(!x)return;const{error:m,paymentMethod:j}=await N.createPaymentMethod({type:"card",card:x,billing_details:{name:s}});if(m){P.error(m.message||h("Payment failed"));return}l("stripe",{planId:a,billingCycle:n,couponCode:i,payment_method_id:j.id,cardholder_name:s})},b={style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}};return e.jsxs("form",{onSubmit:o,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{htmlFor:"cardholder-name",children:h("Name on card")}),e.jsx(J,{id:"cardholder-name",type:"text",value:s,onChange:v=>t(v.target.value),placeholder:h("Enter cardholder name"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{children:h("Card details")}),e.jsx("div",{className:"p-3 border rounded-md",children:e.jsx(Ds,{options:b})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:d,disabled:f,className:"flex-1",children:h("Cancel")}),e.jsx(_,{type:"submit",disabled:!N||f,className:"flex-1",children:f?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"h-4 w-4 mr-2 animate-spin"}),h("Processing...")]}):h("Pay Now")})]})]})};function ra({planId:a,couponCode:i,billingCycle:n,stripeKey:c,onSuccess:d,onCancel:h}){const{t:N}=O(),[y,s]=w.useState(null);return w.useEffect(()=>{c&&c.startsWith("pk_")&&s(Mr(c))},[c]),y?e.jsx(Vs,{stripe:y,children:e.jsx(sa,{planId:a,couponCode:i,billingCycle:n,onSuccess:d,onCancel:h})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:N("Stripe not configured properly")})}function aa({planId:a,planPrice:i,couponCode:n,billingCycle:c,paypalClientId:d,currency:h,onSuccess:N,onCancel:y}){const{t:s}=O(),t=w.useRef(null),{processPayment:f}=ve({onSuccess:N,onError:l=>P.error(l)});return w.useEffect(()=>{if(!d||!t.current)return;const l=document.createElement("script");return l.src=`https://www.paypal.com/sdk/js?client-id=${d}&currency=${h.toUpperCase()}&disable-funding=credit,card`,l.async=!0,l.onload=()=>{window.paypal&&t.current&&window.paypal.Buttons({createOrder:(o,b)=>b.order.create({purchase_units:[{amount:{value:i.toString(),currency_code:h.toUpperCase()}}]}),onApprove:(o,b)=>b.order.capture().then(v=>{f("paypal",{planId:a,billingCycle:c,couponCode:n,order_id:o.orderID,payment_id:v.id})}),onError:o=>{console.error("PayPal error:",o),o.message&&o.message.includes("declined")?P.error(s("Card was declined. Please try a different payment method.")):P.error(s("Payment failed. Please try again."))},onCancel:()=>{y()}}).render(t.current)},document.head.appendChild(l),()=>{document.head.contains(l)&&document.head.removeChild(l)}},[d,a,c,n,h]),d?e.jsx("div",{className:"space-y-4",children:e.jsx("div",{ref:t})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:s("PayPal not configured")})}function ta({planId:a,planPrice:i,couponCode:n,billingCycle:c,bankDetails:d,onSuccess:h,onCancel:N}){const{t:y}=O(),[s,t]=w.useState(!1),f=o=>{navigator.clipboard.writeText(o),P.success(y("Copied to clipboard"))},l=()=>{t(!0),ne.post(route("bank.payment"),{plan_id:a,billing_cycle:c,coupon_code:n,amount:i},{onSuccess:()=>{P.success(y("Payment request submitted successfully")),h()},onError:()=>{P.error(y("Failed to submit payment request"))},onFinish:()=>{t(!1)}})};return e.jsxs("div",{className:"space-y-4",children:[e.jsx(I,{children:e.jsxs(S,{className:"p-4",children:[e.jsx("h3",{className:"font-medium mb-3",children:y("Bank Transfer Details")}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx("div",{className:"whitespace-pre-line",children:d}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsxs("span",{className:"font-medium",children:[y("Amount"),": $",i]}),e.jsxs(_,{variant:"outline",size:"sm",onClick:()=>f(i.toString()),children:[e.jsx(ur,{className:"h-3 w-3 mr-1"}),y("Copy")]})]})]})]})}),e.jsx(I,{className:"border-orange-200 bg-orange-50",children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ls,{className:"h-5 w-5 text-orange-600 mt-0.5"}),e.jsxs("div",{className:"text-sm text-orange-800",children:[e.jsx("p",{className:"font-medium mb-1",children:y("Important Instructions")}),e.jsxs("ul",{className:"space-y-1 text-xs",children:[e.jsxs("li",{children:["• ",y("Transfer the exact amount shown above")]}),e.jsxs("li",{children:["• ",y("Include your order reference in the transfer description")]}),e.jsxs("li",{children:["• ",y("Your plan will be activated after payment verification")]}),e.jsxs("li",{children:["• ",y("Verification may take 1-3 business days")]})]})]})]})})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:N,className:"flex-1",children:y("Cancel")}),e.jsx(_,{onClick:l,disabled:s,className:"flex-1",children:y(s?"Processing...":"I have made the payment")})]})]})}function na({planId:a,planPrice:i,couponCode:n,billingCycle:c,razorpayKey:d,currency:h="INR",onSuccess:N,onCancel:y}){const{t:s}=O();w.useEffect(()=>{if(window&&window.Razorpay)return;const f=document.createElement("script");return f.src="https://checkout.razorpay.com/v1/checkout.js",f.async=!0,f.onerror=()=>{P.error(s("Failed to load Razorpay checkout. Please try again."))},document.body.appendChild(f),()=>{document.body.contains(f)&&document.body.removeChild(f)}},[]);const t=async()=>{var f,l;try{const o=await me.post(route("razorpay.create-order"),{plan_id:a,billing_cycle:c,coupon_code:n});if(o.data.error){P.error(o.data.error);return}const{order_id:b,amount:v}=o.data;if(!b||!v){P.error(s("Invalid response from server"));return}const x={key:d,amount:v,currency:h,name:"HRM",description:"Plan Subscription",order_id:b,handler:function(j){me.post(route("razorpay.verify-payment"),{razorpay_payment_id:j.razorpay_payment_id,razorpay_order_id:j.razorpay_order_id,razorpay_signature:j.razorpay_signature,plan_id:a,billing_cycle:c,coupon_code:n}).then(()=>{N()}).catch(u=>{var g,M;const p=((M=(g=u.response)==null?void 0:g.data)==null?void 0:M.error)||s("Payment verification failed");P.error(p)})},prefill:{name:"",email:"",contact:""},theme:{color:"#3B82F6"},modal:{ondismiss:y}};if(!window.Razorpay){P.error(s("Razorpay SDK not loaded"));return}new window.Razorpay(x).open()}catch(o){const b=((l=(f=o.response)==null?void 0:f.data)==null?void 0:l.error)||s("Failed to initialize payment");P.error(b),console.error("Razorpay error:",o)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s("You will be redirected to Razorpay to complete your payment.")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:y,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:t,className:"flex-1",children:s("Pay with Razorpay")})]})]})}function ia({planId:a,planPrice:i,couponCode:n,billingCycle:c,accessToken:d,currency:h="BRL",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),l=async()=>{var o,b;try{f(!0);const v=await me.post(route("mercadopago.create-preference"),{plan_id:a,billing_cycle:c,coupon_code:n||void 0},{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});v.data.redirect_url?window.location.href=v.data.redirect_url:(P.error(s("Failed to create payment preference")),f(!1))}catch(v){const x=((b=(o=v.response)==null?void 0:o.data)==null?void 0:b.error)||v.message||s("Failed to create payment preference");P.error(x),f(!1)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s("You will be redirected to MercadoPago to complete your payment.")}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsx(_,{variant:"outline",onClick:y,className:"flex-1",disabled:t,children:s("Cancel")}),e.jsx(_,{onClick:l,className:"flex-1",disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"h-4 w-4 mr-2 animate-spin"}),s("Processing...")]}):s("Pay with MercadoPago")})]})]})}function ca({planId:a,planPrice:i,couponCode:n,billingCycle:c,paystackKey:d,currency:h,onSuccess:N,onCancel:y}){const{t:s}=O(),t=w.useRef(!1),{processPayment:f}=ve({onSuccess:N,onError:l=>P.error(l)});return w.useEffect(()=>{if(!d||t.current)return;const l=document.createElement("script");return l.src="https://js.paystack.co/v1/inline.js",l.async=!0,l.onload=()=>{t.current=!0;const o=document.querySelector("[data-radix-dialog-overlay]");o&&(o.style.display="none"),window.PaystackPop.setup({key:d,email:"user@example.com",amount:Math.round(Number(i)*100),currency:h.toUpperCase(),callback:function(v){o&&(o.style.display=""),f("paystack",{planId:a,billingCycle:c,couponCode:n,payment_id:v.reference})},onClose:function(){o&&(o.style.display=""),y()}}).openIframe()},document.head.appendChild(l),()=>{document.head.contains(l)&&document.head.removeChild(l)}},[d,a,c,n,h]),d?e.jsx("div",{className:"p-4 text-center",children:e.jsx("p",{children:s("Redirecting to Paystack...")})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:s("Paystack not configured")})}function la({planId:a,planPrice:i,couponCode:n,billingCycle:c,flutterwaveKey:d,currency:h,onSuccess:N,onCancel:y}){const{t:s}=O(),t=w.useRef(!1),{processPayment:f}=ve({onSuccess:N,onError:l=>P.error(l)});return w.useEffect(()=>{if(!d||t.current)return;const l=document.createElement("script");return l.src="https://checkout.flutterwave.com/v3.js",l.async=!0,l.onload=()=>{t.current=!0,window.FlutterwaveCheckout({public_key:d,tx_ref:`plan_${a}_${Date.now()}`,amount:i,currency:h.toUpperCase(),payment_options:"card,mobilemoney,ussd",customer:{email:"user@example.com",phone_number:"",name:"Customer"},customizations:{title:"Plan Subscription",description:"Payment for subscription plan",logo:""},callback:function(o){o.status==="successful"?f("flutterwave",{planId:a,billingCycle:c,couponCode:n,payment_id:o.transaction_id,tx_ref:o.tx_ref}):(P.error(s("Payment was not completed")),y())},onclose:function(){y()}})},document.head.appendChild(l),()=>{document.head.contains(l)&&document.head.removeChild(l)}},[d,a,c,n,h]),d?e.jsx("div",{className:"p-4 text-center",children:e.jsx("p",{children:s("Redirecting to Flutterwave...")})}):e.jsx("div",{className:"p-4 text-center text-red-500",children:s("Flutterwave not configured")})}function oa({planId:a,couponCode:i,billingCycle:n,planPrice:c,paytabsClientKey:d,currency:h,onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),l=async()=>{var o,b,v,x,m,j;f(!0);try{const u={plan_id:a,billing_cycle:n,coupon_code:i||null,payment_id:`pt_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,transaction_id:`txn_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,_token:(o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content")},p=await me.post(route("paytabs.payment"),u,{headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},timeout:3e4});if(p.data.success&&p.data.redirect_url)P.success(s("Redirecting to PayTabs payment page...")),setTimeout(()=>{window.location.href=p.data.redirect_url},1e3);else throw new Error(p.data.message||"Payment initialization failed")}catch(u){console.error("PayTabs payment error:",u);let p=s("Payment failed. Please try again.");((b=u.response)==null?void 0:b.status)===400?p=((v=u.response.data)==null?void 0:v.message)||s("Invalid payment request. Please check your details."):((x=u.response)==null?void 0:x.status)===500?p=s("Server error. Please try again later."):(j=(m=u.response)==null?void 0:m.data)!=null&&j.message?p=u.response.data.message:u.message?p=u.message:u.code==="ECONNABORTED"&&(p=s("Request timeout. Please try again.")),P.error(p),f(!1)}};return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("PayTabs Payment")]})}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(ae,{className:"h-5 w-5 text-blue-600 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-1",children:s("Secure Payment with PayTabs")}),e.jsx("p",{className:"text-sm text-blue-700",children:s("You will be redirected to PayTabs secure payment page to complete your transaction.")})]})]})}),e.jsxs("div",{className:"border rounded-lg p-4 bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Plan"),":"]}),e.jsx("span",{className:"text-sm text-gray-900",children:s("Subscription Plan")})]}),e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Billing Cycle"),":"]}),e.jsx("span",{className:"text-sm text-gray-900 capitalize",children:n})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-600",children:[s("Amount"),":"]}),e.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[h," ",c]})]}),i&&e.jsxs("div",{className:"flex justify-between items-center mt-2 pt-2 border-t",children:[e.jsxs("span",{className:"text-sm font-medium text-green-600",children:[s("Coupon Applied"),":"]}),e.jsx("span",{className:"text-sm text-green-700 font-medium",children:i})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:y,className:"flex-1",disabled:t,children:s("Cancel")}),e.jsx(_,{type:"button",onClick:l,disabled:t,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),s("Pay {{amount}}",{amount:`${h} ${c}`})]})})]})]})})]})}function da({planId:a,couponCode:i,billingCycle:n,planPrice:c,skrillMerchantId:d,currency:h,onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(""),b=async v=>{if(v.preventDefault(),!l){P.error(s("Please enter your email address"));return}f(!0);try{const x={plan_id:a,billing_cycle:n,coupon_code:i||null,payment_id:`skrill_${Date.now()}`,transaction_id:`txn_${Date.now()}`,email:l};ne.post(route("skrill.payment"),x,{onSuccess:()=>{P.success(s("Payment successful!")),N()},onError:m=>{console.error("Skrill payment error:",m),P.error(s("Payment failed. Please try again."))},onFinish:()=>{f(!1)}})}catch(x){console.error("Skrill payment error:",x),P.error(s("Payment failed. Please try again.")),f(!1)}};return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5"}),s("Skrill Payment")]})}),e.jsx(S,{children:e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{htmlFor:"email",children:s("Email Address")}),e.jsx(J,{id:"email",type:"email",value:l,onChange:v=>o(v.target.value),placeholder:s("Enter your email address"),required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("You will be redirected to Skrill to complete the payment")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:y,className:"flex-1",children:s("Cancel")}),e.jsx(_,{type:"submit",disabled:t,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:`${h} ${c}`})})]})]})})]})}function ma({planId:a,couponCode:i,billingCycle:n,planPrice:c,currency:d,onSuccess:h,onCancel:N}){const{t:y}=O(),[s,t]=w.useState(!1),f=l=>{var x;l.preventDefault(),t(!0);const o=document.createElement("form");o.method="POST",o.action=route("coingate.payment");const b=(x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content");if(b){const m=document.createElement("input");m.type="hidden",m.name="_token",m.value=b,o.appendChild(m)}Object.entries({plan_id:a,billing_cycle:n,coupon_code:i||"",crypto_currency:"BTC"}).forEach(([m,j])=>{const u=document.createElement("input");u.type="hidden",u.name=m,u.value=String(j),o.appendChild(u)}),document.body.appendChild(o),o.submit()};return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"h-5 w-5 text-orange-500"}),y("CoinGate Cryptocurrency Payment")]})}),e.jsxs(S,{children:[e.jsxs(R,{className:"mb-4",children:[e.jsx(Fe,{className:"h-4 w-4"}),e.jsx(z,{children:y("You will be redirected to CoinGate to complete your cryptocurrency payment securely.")})]}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:y("Plan")}),e.jsxs("span",{className:"text-sm",children:[y(n)," ",y("billing")]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:y("Amount")}),e.jsxs("span",{className:"text-lg font-bold",children:[d," ",c]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:y("Final cryptocurrency amount will be calculated at checkout based on current exchange rates")})]}),e.jsx("div",{className:"bg-blue-50 p-3 rounded-lg border border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Fe,{className:"h-4 w-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs text-blue-800",children:[e.jsx("p",{className:"font-medium mb-1",children:y("Payment Process:")}),e.jsxs("ul",{className:"space-y-1 list-disc list-inside",children:[e.jsx("li",{children:y('Click "Pay with Crypto" to proceed to CoinGate')}),e.jsx("li",{children:y("Complete payment using your selected cryptocurrency")}),e.jsx("li",{children:y("You will be redirected back after payment completion")})]})]})]})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:N,className:"flex-1",disabled:s,children:y("Cancel")}),e.jsx(_,{type:"submit",disabled:s,className:"flex-1 bg-orange-600 hover:bg-orange-700",children:s?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),y("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(Ee,{className:"mr-2 h-4 w-4"}),y("Pay with Crypto")]})})]})]})]})]})}function ua({planId:a,couponCode:i,billingCycle:n,planPrice:c,payfastMerchantId:d,currency:h,onSuccess:N,onCancel:y}){var j;const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState({firstName:"",lastName:"",email:""}),[b,v]=w.useState({}),x=()=>{const u={};return l.firstName.trim()||(u.firstName=s("First name is required")),l.lastName.trim()||(u.lastName=s("Last name is required")),l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(u.email=s("Please enter a valid email address")):u.email=s("Email is required"),u},m=async u=>{var g;u.preventDefault();const p=x();if(v(p),Object.keys(p).length>0){P.error(s("Please fix the errors below"));return}if(c<5){P.error(s("Minimum payment amount is R5.00"));return}f(!0);try{const T=await(await fetch(route("payfast.payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((g=document.querySelector('meta[name="csrf-token"]'))==null?void 0:g.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:n,coupon_code:i,customer_details:l})})).json();if(T.success){const L=document.createElement("form");L.method="POST",L.action=T.action,L.innerHTML=T.inputs,document.body.appendChild(L),L.submit()}else P.error(T.error||s("Payment failed")),f(!1)}catch(M){console.error("PayFast payment error:",M),P.error(s("Payment failed. Please try again.")),f(!1)}};return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("Payfast Payment")]})}),e.jsx(S,{children:e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsx("input",{type:"hidden",name:"_token",value:((j=document.querySelector('meta[name="csrf-token"]'))==null?void 0:j.getAttribute("content"))||""}),e.jsx("input",{type:"hidden",name:"plan_id",value:a}),e.jsx("input",{type:"hidden",name:"billing_cycle",value:n}),e.jsx("input",{type:"hidden",name:"coupon_code",value:i||""}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{htmlFor:"firstName",children:s("First Name")}),e.jsx(J,{id:"firstName",name:"customer_details[firstName]",value:l.firstName,onChange:u=>{o(p=>({...p,firstName:u.target.value})),b.firstName&&v(p=>({...p,firstName:""}))},placeholder:s("Enter first name"),className:b.firstName?"border-red-500":"",required:!0}),b.firstName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:b.firstName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{htmlFor:"lastName",children:s("Last Name")}),e.jsx(J,{id:"lastName",name:"customer_details[lastName]",value:l.lastName,onChange:u=>{o(p=>({...p,lastName:u.target.value})),b.lastName&&v(p=>({...p,lastName:""}))},placeholder:s("Enter last name"),className:b.lastName?"border-red-500":"",required:!0}),b.lastName&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:b.lastName})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{htmlFor:"email",children:s("Email Address")}),e.jsx(J,{id:"email",name:"customer_details[email]",type:"email",value:l.email,onChange:u=>{o(p=>({...p,email:u.target.value})),b.email&&v(p=>({...p,email:""}))},placeholder:s("Enter email address"),className:b.email?"border-red-500":"",required:!0}),b.email&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:b.email}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("You will be redirected to Payfast to complete the payment")})]}),c<5&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:s("PayFast requires a minimum payment of R5.00. Current amount: {{currency}} {{amount}}",{currency:h,amount:c})})]}),e.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium",children:s("Amount")}),e.jsxs("span",{className:"text-sm font-bold",children:[h," ",c]})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s("Secure payment processing via PayFast")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:y,className:"flex-1",children:s("Cancel")}),e.jsx(_,{type:"submit",disabled:t||c<5,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:`${h} ${c}`})})]})]})})]})}function ha({planId:a,couponCode:i,billingCycle:n,planPrice:c,toyyibpayCategoryCode:d,currency:h,onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState({name:"",email:"",phone:""}),[b,v]=w.useState({}),x=()=>{const u={};return l.name.trim()||(u.name=s("Full name is required")),l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(u.email=s("Please enter a valid email address")):u.email=s("Email address is required"),l.phone.trim()?l.phone.length<10&&(u.phone=s("Please enter a valid Malaysian phone number")):u.phone=s("Phone number is required"),v(u),Object.keys(u).length===0},m=async u=>{var p;if(u.preventDefault(),!x()){P.error(s("Please fix the form errors"));return}f(!0),v({});try{const g={plan_id:a,billing_cycle:n,coupon_code:i||"",billName:`Plan Subscription - ${a}`,billDescription:`${n} subscription for ${l.name}`,billAmount:c,billTo:l.name.trim(),billEmail:l.email.trim(),billPhone:l.phone.trim()},M=document.createElement("form");M.method="POST",M.action=route("toyyibpay.payment");const T=document.createElement("input");T.type="hidden",T.name="_token",T.value=((p=document.querySelector('meta[name="csrf-token"]'))==null?void 0:p.getAttribute("content"))||"",M.appendChild(T),Object.entries(g).forEach(([L,Q])=>{const ee=document.createElement("input");ee.type="hidden",ee.name=L,ee.value=Q.toString(),M.appendChild(ee)}),document.body.appendChild(M),M.submit()}catch(g){console.error("ToyyibPay payment error:",g),P.error(s("Payment failed. Please try again.")),f(!1)}},j=u=>{const p=u.replace(/[^0-9]/g,"");return p.startsWith("60")?p.slice(0,12):p.startsWith("0")?"60"+p.slice(1,11):"60"+p.slice(0,10)};return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("toyyibPay Payment")]})}),e.jsxs(S,{children:[e.jsxs(R,{className:"mb-4",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:s("You will be redirected to toyyibPay to complete your payment securely via FPX (Malaysian Online Banking)")})]}),e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(X,{htmlFor:"name",children:[s("Full Name")," *"]}),e.jsx(J,{id:"name",value:l.name,onChange:u=>{o(p=>({...p,name:u.target.value})),b.name&&v(p=>({...p,name:""}))},placeholder:s("Enter your full name"),className:b.name?"border-red-500":"",required:!0}),b.name&&e.jsx("p",{className:"text-sm text-red-500",children:b.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(X,{htmlFor:"email",children:[s("Email Address")," *"]}),e.jsx(J,{id:"email",type:"email",value:l.email,onChange:u=>{o(p=>({...p,email:u.target.value})),b.email&&v(p=>({...p,email:""}))},placeholder:s("Enter your email address"),className:b.email?"border-red-500":"",required:!0}),b.email&&e.jsx("p",{className:"text-sm text-red-500",children:b.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(X,{htmlFor:"phone",children:[s("Phone Number")," *"]}),e.jsx(J,{id:"phone",value:l.phone,onChange:u=>{const p=j(u.target.value);o(g=>({...g,phone:p})),b.phone&&v(g=>({...g,phone:""}))},placeholder:"60123456789",className:b.phone?"border-red-500":"",maxLength:12,required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Malaysian format: 60123456789 (numbers only)")}),b.phone&&e.jsx("p",{className:"text-sm text-red-500",children:b.phone})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(E,{className:"h-4 w-4 text-primary"}),e.jsx("p",{className:"text-sm font-medium",children:s("Payment Method: FPX (Online Banking)")})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Secure payment via Malaysian banks including Maybank, CIMB, Public Bank, RHB, and more")})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s("Total Amount"),":"]}),e.jsxs("span",{className:"text-lg font-bold",children:[h," ",c.toFixed(2)]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{type:"button",variant:"outline",onClick:y,className:"flex-1",disabled:t,children:s("Cancel")}),e.jsx(_,{type:"submit",disabled:t,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),s("Pay Now")]})})]})]})]})]})]})}function xa({planId:a,couponCode:i,billingCycle:n,planPrice:c,paytrMerchantId:d,currency:h,onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(!1),[b,v]=w.useState(""),x=w.useRef(null),[m,j]=w.useState({name:"",email:"",phone:"",address:""});w.useEffect(()=>{const p=g=>{g.origin==="https://www.paytr.com"&&(g.data==="success"?(o(!1),N()):g.data==="fail"&&(o(!1),P.error(s("Payment failed"))))};return window.addEventListener("message",p),()=>window.removeEventListener("message",p)},[N,s]);const u=async p=>{var g,M;if(p.preventDefault(),!m.name||!m.email||!m.phone){P.error(s("Please fill in required customer details"));return}f(!0);try{const T=await me.post(route("paytr.create-token"),{plan_id:a,billing_cycle:n,coupon_code:i,user_name:m.name,user_email:m.email,user_phone:m.phone,user_address:m.address});if(T.data.success)v(T.data.iframe_url),o(!0);else throw new Error(T.data.error||"Token creation failed")}catch(T){console.error("PayTR payment error:",T),P.error(((M=(g=T.response)==null?void 0:g.data)==null?void 0:M.error)||s("Payment failed. Please try again."))}finally{f(!1)}};return l?e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("PayTR Payment")]}),e.jsx(_,{variant:"outline",size:"sm",onClick:()=>o(!1),children:s("Back")})]})}),e.jsxs(S,{children:[e.jsx("div",{className:"w-full h-[600px] border rounded-lg overflow-hidden",children:e.jsx("iframe",{ref:x,src:b,width:"100%",height:"100%",frameBorder:"0",scrolling:"auto",title:"PayTR Payment"})}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2 text-center",children:s("Complete your payment in the secure PayTR iframe above")})]})]}):e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("PayTR Payment")]})}),e.jsx(S,{children:e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(X,{htmlFor:"name",children:[s("Full Name")," *"]}),e.jsx(J,{id:"name",value:m.name,onChange:p=>j(g=>({...g,name:p.target.value})),placeholder:s("Enter full name"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(X,{htmlFor:"email",children:[s("Email Address")," *"]}),e.jsx(J,{id:"email",type:"email",value:m.email,onChange:p=>j(g=>({...g,email:p.target.value})),placeholder:s("Enter email address"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(X,{htmlFor:"phone",children:[s("Phone Number")," *"]}),e.jsx(J,{id:"phone",value:m.phone,onChange:p=>j(g=>({...g,phone:p.target.value})),placeholder:"+905xxxxxxxxx",required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Turkish phone number format: +905xxxxxxxxx")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{htmlFor:"address",children:s("Address")}),e.jsx(J,{id:"address",value:m.address,onChange:p=>j(g=>({...g,address:p.target.value})),placeholder:s("Enter address (optional)")})]}),e.jsxs("div",{className:"bg-muted p-3 rounded-lg",children:[e.jsx("p",{className:"text-sm font-medium",children:s("Secure Payment via PayTR")}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s("Credit Card, Debit Card - Real-time payment processing")})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:y,className:"flex-1",children:s("Cancel")}),e.jsx(_,{type:"submit",disabled:t,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:`${c} ${h}`})})]})]})})]})}function pa({planId:a,couponCode:i,billingCycle:n,planPrice:c,mollieApiKey:d,currency:h,onSuccess:N,onCancel:y}){var v;const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState({firstName:"",lastName:"",email:""}),b=x=>{if(!l.firstName||!l.lastName||!l.email){x.preventDefault(),alert(s("Please fill in all customer details"));return}f(!0)};return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("Mollie Payment")]})}),e.jsx(S,{children:e.jsxs("form",{action:route("mollie.payment"),method:"POST",onSubmit:b,className:"space-y-4",children:[e.jsx("input",{type:"hidden",name:"_token",value:((v=document.querySelector('meta[name="csrf-token"]'))==null?void 0:v.getAttribute("content"))||""}),e.jsx("input",{type:"hidden",name:"plan_id",value:a}),e.jsx("input",{type:"hidden",name:"billing_cycle",value:n}),e.jsx("input",{type:"hidden",name:"coupon_code",value:i||""}),e.jsx("input",{type:"hidden",name:"payment_id",value:`mollie_${Date.now()}`}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{htmlFor:"firstName",children:s("First Name")}),e.jsx(J,{id:"firstName",name:"customer_details[firstName]",value:l.firstName,onChange:x=>o(m=>({...m,firstName:x.target.value})),placeholder:s("Enter first name"),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{htmlFor:"lastName",children:s("Last Name")}),e.jsx(J,{id:"lastName",name:"customer_details[lastName]",value:l.lastName,onChange:x=>o(m=>({...m,lastName:x.target.value})),placeholder:s("Enter last name"),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{htmlFor:"email",children:s("Email Address")}),e.jsx(J,{id:"email",name:"customer_details[email]",type:"email",value:l.email,onChange:x=>o(m=>({...m,email:x.target.value})),placeholder:s("Enter email address"),required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:y,className:"flex-1",children:s("Cancel")}),e.jsx(_,{type:"submit",disabled:t,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):s("Pay {{amount}}",{amount:`€${c}`})})]})]})})]})}function fa({planId:a,planPrice:i,couponCode:n,billingCycle:c,cashfreeAppId:d,mode:h="sandbox",currency:N="INR",onSuccess:y,onCancel:s}){const{t}=O();w.useEffect(()=>{if(window&&window.Cashfree)return;const l=document.createElement("script");return l.src="https://sdk.cashfree.com/js/v3/cashfree.js",l.async=!0,l.onerror=()=>{P.error(t("Failed to load Cashfree SDK. Please try again."))},document.body.appendChild(l),()=>{document.body.contains(l)&&document.body.removeChild(l)}},[h]);const f=async()=>{var l,o,b;try{const v=await me.post(route("cashfree.create-session"),{plan_id:a,billing_cycle:c,coupon_code:n,_token:(l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content")});if(v.data.error){P.error(v.data.error);return}const{payment_session_id:x,order_id:m,amount:j,mode:u}=v.data;if(!x||!m){P.error(t("Invalid response from server"));return}if(!u){P.error(t("Payment mode not configured"));return}if(!window.Cashfree){P.error(t("Cashfree SDK not loaded"));return}const p=u==="production"?"PROD":"SANDBOX";try{const T=window.Cashfree({mode:p})}catch(T){P.error("Failed to initialize Cashfree: "+T.message);return}const g=window.Cashfree({mode:p}),M={paymentSessionId:x,returnUrl:window.location.origin+route("dashboard"),redirectTarget:"_modal",mode:p,style:{zIndex:99999}};g.checkout(M).then(T=>{var L,Q;if(T.error){P.error(T.error.message||t("Payment failed"));return}T.paymentDetails?me.post(route("cashfree.verify-payment"),{order_id:m,cf_payment_id:(L=T.paymentDetails)==null?void 0:L.paymentId,plan_id:a,billing_cycle:c,coupon_code:n,_token:(Q=document.querySelector('meta[name="csrf-token"]'))==null?void 0:Q.getAttribute("content")}).then(ee=>{y()}).catch(ee=>{var V,W;const k=((W=(V=ee.response)==null?void 0:V.data)==null?void 0:W.error)||t("Payment verification failed");P.error(k)}):P.error(t("Payment status unclear"))}).catch(T=>{P.error(T.message||t("Payment initialization failed"))})}catch(v){const x=((b=(o=v.response)==null?void 0:o.data)==null?void 0:b.error)||t("Failed to initialize payment");P.error(x)}};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:t("You will be redirected to Cashfree to complete your payment.")}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:s,className:"flex-1",children:t("Cancel")}),e.jsx(_,{onClick:f,className:"flex-1",children:t("Pay with Cashfree")})]})]})}function ya({planId:a,planPrice:i,couponCode:n,billingCycle:c,iyzipayPublicKey:d,currency:h="USD",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),[b,v]=w.useState(null),x=async()=>{var j;if(!d){o(s("Iyzipay configuration is missing"));return}f(!0),o(null);try{const p=await(await fetch(route("iyzipay.create-form"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((j=document.querySelector('meta[name="csrf-token"]'))==null?void 0:j.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:c,coupon_code:n})})).json();if(p.success)window.location.href=p.redirect_url;else throw new Error(p.error||s("Failed to create payment form"))}catch(u){console.error("Iyzipay payment error:",u),o(u instanceof Error?u.message:s("Payment initialization failed"))}finally{f(!1)}},m=j=>new Intl.NumberFormat("en-US",{style:"currency",currency:h}).format(j);return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("Iyzipay Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[l&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:m(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),t?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(D,{className:"h-8 w-8 animate-spin mx-auto mb-4"}),e.jsx("p",{children:s("Redirecting to payment page...")})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs(R,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:s("You will be redirected to Iyzipay secure payment page to complete your payment.")})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:x,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),s("Pay with Iyzipay")]})})]})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Iyzipay - Secure payment processing")})]})]})}function ja({planId:a,planPrice:i,couponCode:n,billingCycle:c,benefitPublicKey:d,currency:h="BHD",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("Benefit payment configuration is missing"));return}f(!0),o(null);try{const j=await(await fetch(route("benefit.create-session"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:c,coupon_code:n})})).json();if(j.success)window.location.href=j.payment_url;else throw new Error(j.error||s("Failed to create payment session"))}catch(m){console.error("Benefit payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("en-BH",{style:"currency",currency:h,minimumFractionDigits:3}).format(x);return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("Benefit Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[l&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs(R,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:s("You will be redirected to Benefit to complete your payment securely. Benefit is the leading payment gateway in Bahrain.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("li",{children:["• ",s("Benefit Debit Cards")]}),e.jsxs("li",{children:["• ",s("Visa Credit/Debit Cards")]}),e.jsxs("li",{children:["• ",s("Mastercard Credit/Debit Cards")]}),e.jsxs("li",{children:["• ",s("Benefit Pay Mobile Wallet")]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),s("Pay with Benefit")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Benefit - Bahrain's trusted payment gateway")})]})]})}function ba({planId:a,planPrice:i,couponCode:n,billingCycle:c,ozowSiteKey:d,currency:h="ZAR",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("Ozow not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("ozow.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:c,coupon_code:n})})).json();if(j.success)window.location.href=j.payment_url;else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("Ozow payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:h}).format(x);return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("Ozow Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[l&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs(R,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:s("You will be redirected to Ozow to complete your payment securely. Ozow is South Africa's trusted instant payment gateway.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Banks")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Standard Bank"}),e.jsx("li",{children:"• FNB"}),e.jsx("li",{children:"• ABSA"}),e.jsx("li",{children:"• Nedbank"}),e.jsx("li",{children:"• Capitec Bank"}),e.jsx("li",{children:"• And more South African banks"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),s("Pay with Ozow")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Ozow - South Africa's instant payment gateway")})]})]})}function Na({planId:a,planPrice:i,couponCode:n,billingCycle:c,easebuzzMerchantKey:d,currency:h="INR",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("Easebuzz not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("easebuzz.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:c,coupon_code:n})})).json();if(j.success)window.location.href=j.payment_url;else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("Easebuzz payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("en-IN",{style:"currency",currency:h}).format(x);return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("Easebuzz Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[l&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs(R,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:s("You will be redirected to Easebuzz to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Net Banking"}),e.jsx("li",{children:"• UPI"}),e.jsx("li",{children:"• Wallets"}),e.jsx("li",{children:"• EMI Options"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),s("Pay with Easebuzz")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Easebuzz - Secure payment processing")})]})]})}function va({planId:a,planPrice:i,couponCode:n,billingCycle:c,khaltiPublicKey:d,currency:h="NPR",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var u;if(!d){o(s("Khalti not configured"));return}f(!0),o(null);try{const g=await(await fetch(route("khalti.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:c,coupon_code:n})})).json();if(g.success)v(g);else throw new Error(g.error||s("Payment creation failed"))}catch(p){console.error("Khalti payment error:",p),o(p instanceof Error?p.message:s("Payment initialization failed")),f(!1)}},v=u=>{if(window.KhaltiCheckout)x(u);else{const p=document.createElement("script");p.src="https://khalti.s3.ap-south-1.amazonaws.com/KPG/dist/2020.12.17.0.0.0/khalti-checkout.iffe.js",p.onload=()=>{x(u)},document.head.appendChild(p)}},x=u=>{const p={publicKey:u.public_key,productIdentity:u.product_identity,productName:u.product_name,productUrl:u.product_url,paymentPreference:["KHALTI","EBANKING","MOBILE_BANKING","CONNECT_IPS","SCT"],eventHandler:{onSuccess(M){m(M.token,M.amount)},onError(M){console.error("Khalti payment error:",M),o(s("Payment failed")),f(!1)},onClose(){f(!1)}}};new window.KhaltiCheckout(p).show({amount:u.amount})},m=(u,p)=>{ne.post(route("khalti.payment"),{plan_id:a,billing_cycle:c,coupon_code:n,token:u,amount:p/100},{onSuccess:()=>{P.success(s("Payment successful")),N()},onError:g=>{console.error("Payment processing error:",g),o(Object.values(g).flat().join(", ")),f(!1)}})},j=u=>new Intl.NumberFormat("en-NP",{style:"currency",currency:h}).format(u);return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("Khalti Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[l&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:j(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs(R,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:s("Khalti is Nepal's most popular digital wallet and payment gateway.")})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsx("li",{children:"• Khalti Wallet"}),e.jsx("li",{children:"• eBanking"}),e.jsx("li",{children:"• Mobile Banking"}),e.jsx("li",{children:"• Connect IPS"}),e.jsx("li",{children:"• SCT Cards"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),s("Pay with Khalti")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Khalti - Nepal's digital wallet")})]})]})}function ga({planId:a,planPrice:i,couponCode:n,billingCycle:c,authorizenetMerchantId:d,currency:h="USD",isSandbox:N=!1,supportedCountries:y=["US","CA","GB","AU"],supportedCurrencies:s=["USD","CAD","CHF","DKK","EUR","GBP","NOK","PLN","SEK","AUD","NZD"],onSuccess:t,onCancel:f}){const{t:l}=O(),[o,b]=w.useState(!1),[v,x]=w.useState(null),[m,j]=w.useState({}),[u,p]=w.useState({card_number:"",expiry_month:"",expiry_year:"",cvv:"",cardholder_name:""}),g=F=>{const A=F.replace(/\s/g,"");return/^[0-9]{13,19}$/.test(A)},M=F=>/^(0[1-9]|1[0-2])$/.test(F),T=F=>{if(!/^[0-9]{2}$/.test(F))return!1;const A=new Date().getFullYear()%100,se=parseInt(F);return se>=A&&se<=A+20},L=F=>/^[0-9]{3,4}$/.test(F),Q=F=>F.trim().length>=2&&F.trim().length<=50,ee=F=>{const A=F.replace(/\s/g,""),se=A.match(/.{1,4}/g);return se?se.join(" "):A},k=(F,A)=>{let se=A;F==="card_number"?se=ee(A.replace(/\s/g,"").slice(0,19)):F==="expiry_month"?se=A.replace(/\D/g,"").slice(0,2):F==="expiry_year"?se=A.replace(/\D/g,"").slice(0,2):F==="cvv"&&(se=A.replace(/\D/g,"").slice(0,4)),p(re=>({...re,[F]:se})),m[F]&&j(re=>({...re,[F]:""}))},V=()=>{const F={};return g(u.card_number)||(F.card_number=l("Please enter a valid card number (13-19 digits)")),M(u.expiry_month)||(F.expiry_month=l("Please enter a valid month (01-12)")),T(u.expiry_year)||(F.expiry_year=l("Please enter a valid year (current year or later)")),L(u.cvv)||(F.cvv=l("Please enter a valid CVV (3-4 digits)")),Q(u.cardholder_name)||(F.cardholder_name=l("Please enter a valid cardholder name (2-50 characters)")),j(F),Object.keys(F).length===0},W=async()=>{if(!d){x(l("AuthorizeNet not configured"));return}if(!V()){x(l("Please correct the errors below"));return}b(!0),x(null),ne.post(route("authorizenet.payment"),{plan_id:a,billing_cycle:c,coupon_code:n,...u},{onSuccess:()=>{P.success(l("Payment successful")),t()},onError:F=>{console.error("Payment processing error:",F),x(Object.values(F).flat().join(", ")),b(!1)}})},ce=F=>new Intl.NumberFormat("en-US",{style:"currency",currency:h}).format(F);return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),l("AuthorizeNet Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[v&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:v})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:l("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:ce(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[l("Billing Cycle"),": ",l(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[l("Coupon Applied"),": ",n]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(X,{htmlFor:"cardholder_name",children:l("Cardholder Name")}),e.jsx(J,{id:"cardholder_name",value:u.cardholder_name,onChange:F=>k("cardholder_name",F.target.value),placeholder:l("Enter cardholder name"),className:m.cardholder_name?"border-red-500":""}),m.cardholder_name&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.cardholder_name})]}),e.jsxs("div",{children:[e.jsx(X,{htmlFor:"card_number",children:l("Card Number")}),e.jsx(J,{id:"card_number",value:u.card_number,onChange:F=>k("card_number",F.target.value),placeholder:"1234 5678 9012 3456",maxLength:23,className:m.card_number?"border-red-500":""}),m.card_number&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.card_number})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(X,{htmlFor:"expiry_month",children:l("Month")}),e.jsx(J,{id:"expiry_month",value:u.expiry_month,onChange:F=>k("expiry_month",F.target.value),placeholder:"MM",maxLength:2,className:m.expiry_month?"border-red-500":""}),m.expiry_month&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.expiry_month})]}),e.jsxs("div",{children:[e.jsx(X,{htmlFor:"expiry_year",children:l("Year")}),e.jsx(J,{id:"expiry_year",value:u.expiry_year,onChange:F=>k("expiry_year",F.target.value),placeholder:"YY",maxLength:2,className:m.expiry_year?"border-red-500":""}),m.expiry_year&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.expiry_year})]}),e.jsxs("div",{children:[e.jsx(X,{htmlFor:"cvv",children:l("CVV")}),e.jsx(J,{id:"cvv",value:u.cvv,onChange:F=>k("cvv",F.target.value),placeholder:"123",maxLength:4,className:m.cvv?"border-red-500":""}),m.cvv&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:m.cvv})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:f,disabled:o,className:"flex-1",children:l("Cancel")}),e.jsx(_,{onClick:W,disabled:o||!d,className:"flex-1",children:o?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),l("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),l("Pay with AuthorizeNet")]})})]}),e.jsxs("div",{className:"space-y-2",children:[N&&e.jsxs(R,{children:[e.jsx(Fe,{className:"h-4 w-4"}),e.jsx(z,{children:l("Test Mode: This is a sandbox transaction. No real money will be charged.")})]}),e.jsxs("div",{className:"text-xs text-muted-foreground text-center space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(Ls,{className:"h-3 w-3 text-green-500"}),l("Powered by AuthorizeNet - Secure payment processing")]}),e.jsxs("div",{children:[l("Supported currencies"),": ",s.join(", ")]}),e.jsxs("div",{children:[l("Supported countries"),": ",y.join(", ")]})]})]})]})]})}function wa({planId:a,planPrice:i,couponCode:n,billingCycle:c,fedapayPublicKey:d,currency:h="XOF",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("FedaPay not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("fedapay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:c,coupon_code:n})})).json();if(j.success)window.location.href=j.payment_url;else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("FedaPay payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:h}).format(x);return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("FedaPay Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[l&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs(R,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:s("You will be redirected to FedaPay to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"• Mobile Money (MTN, Moov, Orange)"}),e.jsx("li",{children:"• Visa/Mastercard"}),e.jsx("li",{children:"• Bank Transfers"}),e.jsx("li",{children:"• Digital Wallets"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),s("Pay with FedaPay")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by FedaPay - West Africa's payment gateway")})]})]})}function Pa({planId:a,planPrice:i,couponCode:n,billingCycle:c,payhereMerchantId:d,currency:h="LKR",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("PayHere not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("payhere.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:c,coupon_code:n})})).json();if(j.success){const u=document.createElement("form");u.method="POST",u.action=j.payment_url,Object.keys(j.payment_data).forEach(p=>{const g=document.createElement("input");g.type="hidden",g.name=p,g.value=j.payment_data[p],u.appendChild(g)}),document.body.appendChild(u),u.submit()}else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("PayHere payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("en-LK",{style:"currency",currency:h}).format(x);return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("PayHere Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[l&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs(R,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:s("You will be redirected to PayHere to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[e.jsx("h4",{className:"font-medium text-orange-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-orange-800 space-y-1",children:[e.jsx("li",{children:"• Visa/Mastercard"}),e.jsx("li",{children:"• Lanka QR"}),e.jsx("li",{children:"• eZ Cash"}),e.jsx("li",{children:"• mCash"}),e.jsx("li",{children:"• Bank Transfers"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),s("Pay with PayHere")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by PayHere - Sri Lanka's payment gateway")})]})]})}function _a({planId:a,planPrice:i,couponCode:n,billingCycle:c,cinetpaySiteId:d,currency:h="XOF",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("CinetPay not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("cinetpay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:c,coupon_code:n})})).json();if(j.success){const u=document.createElement("form");u.method="POST",u.action=j.payment_url,Object.keys(j.payment_data).forEach(p=>{const g=document.createElement("input");g.type="hidden",g.name=p,g.value=j.payment_data[p],u.appendChild(g)}),document.body.appendChild(u),u.submit()}else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("CinetPay payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:h}).format(x);return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("CinetPay Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[l&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs(R,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:s("You will be redirected to CinetPay to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[e.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[e.jsx("li",{children:"• Mobile Money (Orange, MTN, Moov)"}),e.jsx("li",{children:"• Visa/Mastercard"}),e.jsx("li",{children:"• Bank Transfers"}),e.jsx("li",{children:"• Digital Wallets"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),s("Pay with CinetPay")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by CinetPay - African payment gateway")})]})]})}function Ca({planId:a,planPrice:i,couponCode:n,billingCycle:c,paiementMerchantId:d,currency:h="XOF",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("Paiement Pro not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("paiement.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:c,coupon_code:n})})).json();if(j.success){const u=document.createElement("form");u.method="POST",u.action=j.payment_url,Object.keys(j.payment_data).forEach(p=>{const g=document.createElement("input");g.type="hidden",g.name=p,g.value=j.payment_data[p],u.appendChild(g)}),document.body.appendChild(u),u.submit()}else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("Paiement Pro payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:h}).format(x);return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("Paiement Pro Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[l&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Mobile Money"}),e.jsx("li",{children:"• Bank Cards"}),e.jsx("li",{children:"• Bank Transfers"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),s("Pay with Paiement Pro")]})})]})]})]})}function ka({planId:a,planPrice:i,couponCode:n,billingCycle:c,nepalstePublicKey:d,currency:h="NPR",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("Nepalste not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("nepalste.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:c,coupon_code:n})})).json();if(j.success){const u=document.createElement("form");u.method="POST",u.action=j.payment_url,Object.keys(j.payment_data).forEach(p=>{const g=document.createElement("input");g.type="hidden",g.name=p,g.value=typeof j.payment_data[p]=="object"?JSON.stringify(j.payment_data[p]):j.payment_data[p],u.appendChild(g)}),document.body.appendChild(u),u.submit()}else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("Nepalste payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("en-NP",{style:"currency",currency:h}).format(x);return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("Nepalste Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[l&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs("div",{className:"bg-red-50 p-4 rounded-lg border border-red-200",children:[e.jsx("h4",{className:"font-medium text-red-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[e.jsx("li",{children:"• eSewa"}),e.jsx("li",{children:"• Khalti"}),e.jsx("li",{children:"• IME Pay"}),e.jsx("li",{children:"• Bank Transfers"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),s("Pay with Nepalste")]})})]})]})]})}function Ea({planId:a,planPrice:i,couponCode:n,billingCycle:c,yookassaShopId:d,currency:h="RUB",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("YooKassa not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("yookassa.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:c,coupon_code:n})})).json();if(j.success)window.location.href=j.payment_url;else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("YooKassa payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("ru-RU",{style:"currency",currency:h}).format(x);return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("YooKassa Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[l&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[e.jsx("h4",{className:"font-medium text-purple-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-purple-800 space-y-1",children:[e.jsx("li",{children:"• Bank Cards"}),e.jsx("li",{children:"• YooMoney"}),e.jsx("li",{children:"• Qiwi"}),e.jsx("li",{children:"• Sberbank Online"}),e.jsx("li",{children:"• Alfa-Click"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),s("Pay with YooKassa")]})})]})]})]})}function Fa({planId:a,planPrice:i,couponCode:n,billingCycle:c,aamarpayStoreId:d,currency:h="BDT",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("Aamarpay not configured"));return}f(!0),o(null);try{const m=document.createElement("form");m.method="POST",m.action=route("aamarpay.create-payment");const j=document.createElement("input");j.type="hidden",j.name="_token",j.value=((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||"",m.appendChild(j);const u=document.createElement("input");u.type="hidden",u.name="plan_id",u.value=a.toString(),m.appendChild(u);const p=document.createElement("input");if(p.type="hidden",p.name="billing_cycle",p.value=c,m.appendChild(p),n){const g=document.createElement("input");g.type="hidden",g.name="coupon_code",g.value=n,m.appendChild(g)}document.body.appendChild(m),m.submit()}catch(m){console.error("Aamarpay payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("bn-BD",{style:"currency",currency:h}).format(x);return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("Aamarpay Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[l&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[e.jsx("h4",{className:"font-medium text-green-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-green-800 space-y-1",children:[e.jsx("li",{children:"• bKash"}),e.jsx("li",{children:"• Nagad"}),e.jsx("li",{children:"• Rocket"}),e.jsx("li",{children:"• Bank Cards"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),s("Pay with Aamarpay")]})})]})]})]})}function Ta({planId:a,planPrice:i,couponCode:n,billingCycle:c,midtransSecretKey:d,currency:h="IDR",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var u;if(!d){o(s("Midtrans not configured"));return}f(!0),o(null);try{const g=await(await fetch(route("midtrans.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((u=document.querySelector('meta[name="csrf-token"]'))==null?void 0:u.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:c,coupon_code:n})})).json();if(g.success)v(g.snap_token,g.order_id);else throw new Error(g.error||s("Payment creation failed"))}catch(p){console.error("Midtrans payment error:",p),o(p instanceof Error?p.message:s("Payment initialization failed")),f(!1)}},v=(u,p)=>{if(window.snap)x(u,p);else{const g=document.createElement("script");g.src="https://app.sandbox.midtrans.com/snap/snap.js",g.setAttribute("data-client-key",d),g.onload=()=>{x(u,p)},g.onerror=()=>{o(s("Failed to load Midtrans script")),f(!1)},document.head.appendChild(g)}},x=(u,p)=>{window.snap.pay(u,{onSuccess:g=>{m(g,p)},onPending:g=>{f(!1)},onError:g=>{o(s("Payment failed")),f(!1)},onClose:()=>{f(!1)}})},m=(u,p)=>{ne.post(route("midtrans.payment"),{plan_id:a,billing_cycle:c,coupon_code:n,transaction_status:u.transaction_status,order_id:p},{onSuccess:()=>{N()},onError:g=>{console.error("Payment processing error:",g),o(Object.values(g).flat().join(", ")),f(!1)}})},j=u=>new Intl.NumberFormat("id-ID",{style:"currency",currency:h}).format(u);return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("Midtrans Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[l&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:j(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Bank Transfer"}),e.jsx("li",{children:"• E-Wallets (GoPay, OVO, DANA)"}),e.jsx("li",{children:"• Convenience Stores"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Processing...")]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),s("Pay with Midtrans")]})})]})]})]})}function Ma({planId:a,planPrice:i,couponCode:n,billingCycle:c,paymentwallPublicKey:d,currency:h="USD",onSuccess:N,onCancel:y}){var g;const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),[b,v]=w.useState(!1),[x,m]=w.useState(null),j=w.useRef(null);w.useEffect(()=>{(()=>{if(window.Brick){v(!0);return}const T=document.createElement("script");T.src="https://api.paymentwall.com/brick/build/brick-default.1.5.0.min.js",T.async=!0,T.onload=()=>{v(!0)},T.onerror=()=>{o(s("Failed to load PaymentWall payment form"))},document.head.appendChild(T)})()},[s]),w.useEffect(()=>{b&&d&&!x&&u()},[b,d,x]);const u=async()=>{var M;try{const L=await(await fetch(route("paymentwall.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((M=document.querySelector('meta[name="csrf-token"]'))==null?void 0:M.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:c,coupon_code:n})})).json();if(L.success&&L.brick_config){const Q=L.brick_config,ee=new window.Brick({public_key:Q.public_key,amount:Q.amount,currency:Q.currency,container:"paymentwall-form-container",action:route("paymentwall.process"),form:{merchant:"PaymentWall",product:Q.plan_name,pay_button:s("Pay Now"),show_zip:!0,show_cardholder:!0}});ee.showPaymentForm(k=>{N()},k=>{console.error("Payment error:",k),k&&k.length>0?o(k[0].message||s("Payment failed")):o(s("Payment failed")),f(!1)}),m(ee)}else throw new Error(L.error||s("Failed to initialize payment form"))}catch(T){console.error("PaymentWall initialization error:",T),o(T instanceof Error?T.message:s("Payment initialization failed"))}},p=M=>new Intl.NumberFormat("en-US",{style:"currency",currency:h}).format(M);return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("PaymentWall Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[l&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:p(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{id:"paymentwall-form-container",ref:j,className:"min-h-[300px]",children:!b&&e.jsxs("div",{className:"flex items-center justify-center h-32",children:[e.jsx(D,{className:"h-6 w-6 animate-spin mr-2"}),e.jsx("span",{children:s("Loading payment form...")})]})}),e.jsxs("form",{id:"brick-form",style:{display:"none"},children:[e.jsx("input",{type:"hidden",name:"plan_id",value:a}),e.jsx("input",{type:"hidden",name:"billing_cycle",value:c}),e.jsx("input",{type:"hidden",name:"coupon_code",value:n||""}),e.jsx("input",{type:"hidden",name:"_token",value:((g=document.querySelector('meta[name="csrf-token"]'))==null?void 0:g.getAttribute("content"))||""})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Secure Payment")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• SSL Encrypted & PCI DSS Compliant"}),e.jsx("li",{children:"• Multiple Payment Methods Supported"}),e.jsx("li",{children:"• Powered by PaymentWall"})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),!b&&e.jsxs(_,{disabled:!0,className:"flex-1",children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Loading...")]})]})]})]})}function Oa({planId:a,planPrice:i,couponCode:n,billingCycle:c,sspaySecretKey:d,currency:h="MYR",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("SSPay not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("sspay.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:c,coupon_code:n})})).json();if(j.success){const u=document.createElement("form");u.method="POST",u.action=j.payment_url,Object.keys(j.payment_data).forEach(p=>{const g=document.createElement("input");g.type="hidden",g.name=p,g.value=j.payment_data[p],u.appendChild(g)}),document.body.appendChild(u),u.submit()}else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("SSPay payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("ms-MY",{style:"currency",currency:h}).format(x);return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("SSPay Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[l&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs("div",{className:"bg-teal-50 p-4 rounded-lg border border-teal-200",children:[e.jsx("h4",{className:"font-medium text-teal-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-teal-800 space-y-1",children:[e.jsx("li",{children:"• Online Banking"}),e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• E-Wallets"}),e.jsx("li",{children:"• FPX"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),s("Pay with SSPay")]})})]})]})]})}function Aa({planId:a,planPrice:i,couponCode:n,billingCycle:c,tapSecretKey:d,currency:h="USD",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("Tap not configured"));return}f(!0),o(null);try{const m=document.createElement("form");m.method="POST",m.action=route("tap.create-payment");const j=document.createElement("input");j.type="hidden",j.name="_token",j.value=((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||"",m.appendChild(j);const u=document.createElement("input");u.type="hidden",u.name="plan_id",u.value=a.toString(),m.appendChild(u);const p=document.createElement("input");if(p.type="hidden",p.name="billing_cycle",p.value=c,m.appendChild(p),n){const g=document.createElement("input");g.type="hidden",g.name="coupon_code",g.value=n,m.appendChild(g)}document.body.appendChild(m),m.submit()}catch(m){console.error("Tap payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("en-US",{style:"currency",currency:h}).format(x);return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("Tap Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[l&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs(R,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:s("You will be redirected to Tap to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Apple Pay"}),e.jsx("li",{children:"• Google Pay"}),e.jsx("li",{children:"• KNET"}),e.jsx("li",{children:"• Benefit Pay"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),s("Pay with Tap")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Tap - Secure payment processing")})]})]})}function Ra({planId:a,planPrice:i,couponCode:n,billingCycle:c,xenditApiKey:d,currency:h="PHP",onSuccess:N,onCancel:y}){const{t:s}=O(),[t,f]=w.useState(!1),[l,o]=w.useState(null),b=async()=>{var x;if(!d){o(s("Xendit not configured"));return}f(!0),o(null);try{const j=await(await fetch(route("xendit.create-payment"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content"))||""},body:JSON.stringify({plan_id:a,billing_cycle:c,coupon_code:n})})).json();if(j.success)window.location.href=j.payment_url;else throw new Error(j.error||s("Payment creation failed"))}catch(m){console.error("Xendit payment error:",m),o(m instanceof Error?m.message:s("Payment initialization failed")),f(!1)}},v=x=>new Intl.NumberFormat("id-ID",{style:"currency",currency:h}).format(x);return e.jsxs(I,{children:[e.jsx(U,{children:e.jsxs(K,{className:"flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5"}),s("Xendit Payment")]})}),e.jsxs(S,{className:"space-y-4",children:[l&&e.jsxs(R,{variant:"destructive",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:l})]}),e.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium",children:s("Total Amount")}),e.jsx("span",{className:"text-lg font-bold",children:v(i)})]}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[s("Billing Cycle"),": ",s(c)]}),n&&e.jsxs("div",{className:"text-sm text-green-600 mt-1",children:[s("Coupon Applied"),": ",n]})]}),e.jsxs(R,{children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx(z,{children:s("You will be redirected to Xendit to complete your payment securely.")})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[e.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:s("Supported Payment Methods")}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"• Credit/Debit Cards"}),e.jsx("li",{children:"• Bank Transfer"}),e.jsx("li",{children:"• E-Wallets (OVO, DANA, LinkAja)"}),e.jsx("li",{children:"• Virtual Accounts"}),e.jsx("li",{children:"• Retail Outlets"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:y,disabled:t,className:"flex-1",children:s("Cancel")}),e.jsx(_,{onClick:b,disabled:t||!d,className:"flex-1",children:t?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"mr-2 h-4 w-4 animate-spin"}),s("Redirecting...")]}):e.jsxs(e.Fragment,{children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),s("Pay with Xendit")]})})]}),e.jsx("div",{className:"text-xs text-muted-foreground text-center",children:s("Powered by Xendit - Secure payment processing")})]})]})}function za({plan:a,billingCycle:i,paymentMethods:n,currencySymbol:c="$",onSuccess:d,onCancel:h}){const{t:N}=O(),[y,s]=w.useState(""),[t,f]=w.useState(""),[l,o]=w.useState(null),[b,v]=w.useState(!1),[x,m]=w.useState(!1),j=Number(a.price),u=l?l.type==="percentage"?j*l.value/100:l.value:0,p=Math.max(0,j-u),g=async()=>{var k;if(!t.trim()){P.error(N("Please enter a coupon code"));return}v(!0);try{const V=await fetch(route("coupons.validate"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((k=document.querySelector('meta[name="csrf-token"]'))==null?void 0:k.getAttribute("content"))||""},body:JSON.stringify({coupon_code:t,plan_id:a.id,amount:j})}),W=await V.json();V.ok&&W.valid?(o(W.coupon),P.success(N("Coupon applied successfully"))):(P.error(W.message||N("Invalid coupon code")),o(null))}catch{P.error(N("Failed to validate coupon")),o(null)}finally{v(!1)}},M=()=>{o(null),f("")},T=()=>{if(!y){P.error(N("Please select a payment method"));return}m(!0)},L=()=>{m(!1),s("")},Q=n.filter(k=>k.enabled),ee=()=>{var V,W,ce,F,A,se,re,le,oe,ie,r,C,H,$,he,xe,de,Oe,Ae,Re,ze,Ie,Se,De,Be,Le,qe,Ue,Ke,$e,We,Ye,Xe,He,Je,Ve,Ge,Ze,Qe,es,ss,rs,as,ts,ns,is,cs,ls,os,ds,ms,us,hs,xs,ps,fs,ys,js,bs,Ns,vs,gs,ws,Ps;const k={planId:a.id,couponCode:t,billingCycle:i,onSuccess:d,onCancel:L};switch(y){case"stripe":return e.jsx(ra,{...k,stripeKey:((V=a.paymentMethods)==null?void 0:V.stripe_key)||""});case"paypal":return e.jsx(aa,{...k,planPrice:Number(a.price),paypalClientId:((W=a.paymentMethods)==null?void 0:W.paypal_client_id)||"",currency:((ce=a.paymentMethods)==null?void 0:ce.defaultCurrency)||"usd"});case"bank":return e.jsx(ta,{...k,planPrice:Number(a.price),bankDetails:((F=a.paymentMethods)==null?void 0:F.bank_detail)||""});case"razorpay":return e.jsx(na,{...k,planPrice:Number(a.price),razorpayKey:((A=a.paymentMethods)==null?void 0:A.razorpay_key)||"",currency:((se=a.paymentMethods)==null?void 0:se.currency)||"INR"});case"mercadopago":return e.jsx(ia,{...k,planPrice:Number(a.price),accessToken:((re=a.paymentMethods)==null?void 0:re.mercadopago_access_token)||"",currency:((le=a.paymentMethods)==null?void 0:le.currency)||"BRL"});case"paystack":return e.jsx(ca,{...k,planPrice:Number(a.price),paystackKey:((oe=a.paymentMethods)==null?void 0:oe.paystack_public_key)||"",currency:((ie=a.paymentMethods)==null?void 0:ie.currency)||"NGN"});case"flutterwave":return e.jsx(la,{...k,planPrice:Number(a.price),flutterwaveKey:((r=a.paymentMethods)==null?void 0:r.flutterwave_public_key)||"",currency:((C=a.paymentMethods)==null?void 0:C.currency)||"NGN"});case"paytabs":return e.jsx(oa,{...k,planPrice:Number(a.price),paytabsClientKey:"",currency:((H=a.paymentMethods)==null?void 0:H.currency)||"USD"});case"skrill":return e.jsx(da,{...k,planPrice:Number(a.price),skrillMerchantId:(($=a.paymentMethods)==null?void 0:$.skrill_merchant_id)||"",currency:((he=a.paymentMethods)==null?void 0:he.currency)||"USD"});case"coingate":return e.jsx(ma,{...k,planPrice:Number(a.price),coinGateApiToken:((xe=a.paymentMethods)==null?void 0:xe.coingate_api_token)||"",currency:((de=a.paymentMethods)==null?void 0:de.currency)||"USD"});case"payfast":return e.jsx(ua,{...k,planPrice:Number(a.price),payfastMerchantId:((Oe=a.paymentMethods)==null?void 0:Oe.payfast_merchant_id)||"",currency:((Ae=a.paymentMethods)==null?void 0:Ae.currency)||"ZAR"});case"toyyibpay":return e.jsx(ha,{...k,planPrice:Number(a.price),toyyibpayCategoryCode:((Re=a.paymentMethods)==null?void 0:Re.toyyibpay_category_code)||"",currency:((ze=a.paymentMethods)==null?void 0:ze.currency)||"MYR"});case"paytr":return e.jsx(xa,{...k,planPrice:Number(a.price),paytrMerchantId:((Ie=a.paymentMethods)==null?void 0:Ie.paytr_merchant_id)||"",currency:((Se=a.paymentMethods)==null?void 0:Se.currency)||"TRY"});case"mollie":return e.jsx(pa,{...k,planPrice:Number(a.price),mollieApiKey:((De=a.paymentMethods)==null?void 0:De.mollie_api_key)||"",currency:((Be=a.paymentMethods)==null?void 0:Be.currency)||"EUR"});case"cashfree":return e.jsx(fa,{...k,planPrice:Number(a.price),cashfreeAppId:((Le=a.paymentMethods)==null?void 0:Le.cashfree_public_key)||"",mode:((qe=a.paymentMethods)==null?void 0:qe.cashfree_mode)||"sandbox",currency:((Ue=a.paymentMethods)==null?void 0:Ue.currency)||"INR"});case"iyzipay":return e.jsx(ya,{...k,planPrice:Number(a.price),iyzipayPublicKey:((Ke=a.paymentMethods)==null?void 0:Ke.iyzipay_public_key)||"",currency:(($e=a.paymentMethods)==null?void 0:$e.currency)||"USD"});case"benefit":return e.jsx(ja,{...k,planPrice:Number(a.price),benefitPublicKey:((We=a.paymentMethods)==null?void 0:We.benefit_public_key)||"",currency:((Ye=a.paymentMethods)==null?void 0:Ye.currency)||"BHD"});case"ozow":return e.jsx(ba,{...k,planPrice:Number(a.price),ozowSiteKey:((Xe=a.paymentMethods)==null?void 0:Xe.ozow_site_key)||"",currency:((He=a.paymentMethods)==null?void 0:He.currency)||"ZAR"});case"easebuzz":return e.jsx(Na,{...k,planPrice:Number(a.price),easebuzzMerchantKey:((Je=a.paymentMethods)==null?void 0:Je.easebuzz_merchant_key)||"",currency:((Ve=a.paymentMethods)==null?void 0:Ve.currency)||"INR"});case"khalti":return e.jsx(va,{...k,planPrice:Number(a.price),khaltiPublicKey:((Ge=a.paymentMethods)==null?void 0:Ge.khalti_public_key)||"",currency:((Ze=a.paymentMethods)==null?void 0:Ze.currency)||"NPR"});case"authorizenet":return e.jsx(ga,{...k,planPrice:Number(a.price),authorizenetMerchantId:((Qe=a.paymentMethods)==null?void 0:Qe.authorizenet_merchant_id)||"",currency:((es=a.paymentMethods)==null?void 0:es.currency)||"USD"});case"fedapay":return e.jsx(wa,{...k,planPrice:Number(a.price),fedapayPublicKey:((ss=a.paymentMethods)==null?void 0:ss.fedapay_public_key)||"",currency:((rs=a.paymentMethods)==null?void 0:rs.currency)||"XOF"});case"payhere":return e.jsx(Pa,{...k,planPrice:Number(a.price),payhereMerchantId:((as=a.paymentMethods)==null?void 0:as.payhere_merchant_id)||"",currency:((ts=a.paymentMethods)==null?void 0:ts.currency)||"LKR"});case"cinetpay":return e.jsx(_a,{...k,planPrice:Number(a.price),cinetpaySiteId:((ns=a.paymentMethods)==null?void 0:ns.cinetpay_site_id)||"",currency:((is=a.paymentMethods)==null?void 0:is.currency)||"XOF"});case"paiement":return e.jsx(Ca,{...k,planPrice:Number(a.price),paiementMerchantId:((cs=a.paymentMethods)==null?void 0:cs.paiement_merchant_id)||"",currency:((ls=a.paymentMethods)==null?void 0:ls.currency)||"XOF"});case"nepalste":return e.jsx(ka,{...k,planPrice:Number(a.price),nepalstePublicKey:((os=a.paymentMethods)==null?void 0:os.nepalste_public_key)||"",currency:((ds=a.paymentMethods)==null?void 0:ds.currency)||"NPR"});case"yookassa":return e.jsx(Ea,{...k,planPrice:Number(a.price),yookassaShopId:((ms=a.paymentMethods)==null?void 0:ms.yookassa_shop_id)||"",currency:((us=a.paymentMethods)==null?void 0:us.currency)||"RUB"});case"aamarpay":return e.jsx(Fa,{...k,planPrice:Number(a.price),aamarpayStoreId:((hs=a.paymentMethods)==null?void 0:hs.aamarpay_store_id)||"",currency:((xs=a.paymentMethods)==null?void 0:xs.currency)||"BDT"});case"midtrans":return e.jsx(Ta,{...k,planPrice:Number(a.price),midtransSecretKey:((ps=a.paymentMethods)==null?void 0:ps.midtrans_secret_key)||"",currency:((fs=a.paymentMethods)==null?void 0:fs.currency)||"IDR"});case"paymentwall":return e.jsx(Ma,{...k,planPrice:Number(a.price),paymentwallPublicKey:((ys=a.paymentMethods)==null?void 0:ys.paymentwall_public_key)||"",currency:((js=a.paymentMethods)==null?void 0:js.currency)||"USD"});case"sspay":return e.jsx(Oa,{...k,planPrice:Number(a.price),sspaySecretKey:((bs=a.paymentMethods)==null?void 0:bs.sspay_secret_key)||"",currency:((Ns=a.paymentMethods)==null?void 0:Ns.currency)||"MYR"});case"tap":return e.jsx(Aa,{...k,planPrice:Number(a.price),tapSecretKey:((vs=a.paymentMethods)==null?void 0:vs.tap_secret_key)||"",currency:((gs=a.paymentMethods)==null?void 0:gs.currency)||"USD"});case"xendit":return e.jsx(Ra,{...k,planPrice:Number(a.price),xenditApiKey:((ws=a.paymentMethods)==null?void 0:ws.xendit_api_key)||"",currency:((Ps=a.paymentMethods)==null?void 0:Ps.currency)||"PHP"});default:return null}};return x?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"font-medium",children:N("Complete Payment")}),e.jsx(_,{variant:"outline",size:"sm",onClick:L,children:N("Back")})]}),ee()]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(I,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:a.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[N(i)," ",N("subscription")]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-lg font-bold",children:[c," ",a.price]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["/",N(a.duration.toLowerCase())]})]})]})})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(X,{children:N("Select Payment Method")}),Q.length===0?e.jsx("p",{className:"text-sm text-muted-foreground",children:N("No payment methods available")}):e.jsx("div",{className:"space-y-2",children:Q.map((k,V)=>e.jsx(I,{className:`cursor-pointer transition-colors ${y===k.id?"border-primary bg-primary/5":"hover:border-gray-300"}`,onClick:()=>s(k.id),children:e.jsx(S,{className:"p-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-primary",children:k.icon}),e.jsx("span",{className:"font-medium",children:k.name}),y===k.id&&e.jsx(Bs,{variant:"secondary",className:"ml-auto",children:N("Selected")})]})})},`${k.id}-${V}`))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(X,{htmlFor:"coupon",children:[N("Coupon Code")," (",N("Optional"),")"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(J,{id:"coupon",value:t,onChange:k=>f(k.target.value),placeholder:N("Enter coupon code"),className:"pr-10",disabled:!!l}),e.jsx(hr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"})]}),l?e.jsx(_,{type:"button",variant:"outline",onClick:M,children:N("Remove")}):e.jsx(_,{type:"button",variant:"outline",onClick:g,disabled:!t.trim()||b,children:b?e.jsx(D,{className:"h-4 w-4 animate-spin"}):N("Apply")})]}),l&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-green-700 font-medium",children:[N("Coupon Applied"),": ",l.code]}),e.jsxs("span",{className:"text-green-600",children:["-",l.type==="percentage"?`${l.value}%`:`${c}${l.value}`]})]})})]}),e.jsx(I,{children:e.jsx(S,{className:"p-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:N("Subtotal")}),e.jsxs("span",{children:[c,j]})]}),l&&e.jsxs("div",{className:"flex justify-between text-sm text-green-600",children:[e.jsx("span",{children:N("Discount")}),e.jsxs("span",{children:["-",c,u]})]}),e.jsx("div",{className:"border-t pt-2",children:e.jsxs("div",{className:"flex justify-between font-medium",children:[e.jsx("span",{children:N("Total")}),e.jsxs("span",{children:[c,p.toFixed(2)]})]})})]})})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(_,{variant:"outline",onClick:h,className:"flex-1",children:N("Cancel")}),e.jsxs(_,{onClick:T,disabled:Q.length===0,className:"flex-1",children:[N("Pay")," ",c," ",p]})]})]})}function Ia({isOpen:a,onClose:i,plan:n,billingCycle:c,paymentMethods:d,currencySymbol:h}){const{t:N}=O(),y=()=>{i(),window.location.reload()},s=d.filter(t=>t.enabled);return e.jsx(Qs,{open:a,onOpenChange:i,children:e.jsxs(er,{className:"max-w-md max-h-[90vh] flex flex-col",children:[e.jsx(sr,{className:"flex-shrink-0",children:e.jsx(rr,{children:N("Subscribe to {{planName}}",{planName:n.name})})}),e.jsx("div",{className:"overflow-y-auto flex-1 pr-2",children:e.jsx(za,{plan:n,billingCycle:c,paymentMethods:s,currencySymbol:h,onSuccess:y,onCancel:i})})]})})}function bt({plans:a,billingCycle:i="monthly",hasDefaultPlan:n,isAdmin:c=!1,currentPlan:d,userTrialUsed:h,paymentMethods:N=[],currency:y,currencySymbol:s}){const{t}=O(),{flash:f}=ar().props,[l,o]=w.useState(a),[b,v]=w.useState(i),[x,m]=w.useState(!1),[j,u]=w.useState(null),[p,g]=w.useState(!1),[M,T]=w.useState(null),{processing:L}=tr(),Q=[{title:t("Dashboard"),href:route("dashboard")},{title:t("Plan")}];w.useEffect(()=>{o(a)},[a]);const ee=r=>{v(r),ne.get(route("plans.index"),{billing_cycle:r},{preserveState:!0})},k=r=>{P.loading(t("Submitting plan request...")),ne.post(route("plans.request"),{plan_id:r,billing_cycle:b},{onSuccess:C=>{var H,$;P.dismiss(),(H=C.props.flash)!=null&&H.success?P.success(t(C.props.flash.success)):($=C.props.flash)!=null&&$.error&&P.error(t(C.props.flash.error))},onError:C=>{P.dismiss(),typeof C=="string"?P.error(t(C)):P.error(t("Failed to submit plan request: {{errors}}",{errors:Object.values(C).join(", ")}))}})},V=r=>{P.loading(t("Starting trial...")),ne.post(route("plans.trial"),{plan_id:r},{onSuccess:C=>{var H,$;P.dismiss(),(H=C.props.flash)!=null&&H.success?P.success(t(C.props.flash.success)):($=C.props.flash)!=null&&$.error&&P.error(t(C.props.flash.error))},onError:C=>{P.dismiss(),typeof C=="string"?P.error(t(C)):P.error(t("Failed to start trial: {{errors}}",{errors:Object.values(C).join(", ")}))}})},W=async r=>{const C=l.find(H=>H.id===r);if(C)try{const $=await(await fetch(route("payment.methods"))).json();T({...C,paymentMethods:$}),g(!0)}catch{P.error(t("Failed to load payment methods"))}},ce=r=>{const C=[];return((r==null?void 0:r.is_bank_enabled)===!0||(r==null?void 0:r.is_bank_enabled)==="1")&&C.push({id:"bank",name:t("Bank Transfer"),icon:e.jsx(pr,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_stripe_enabled)===!0||(r==null?void 0:r.is_stripe_enabled)==="1")&&C.push({id:"stripe",name:t("Stripe"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_paypal_enabled)===!0||(r==null?void 0:r.is_paypal_enabled)==="1")&&C.push({id:"paypal",name:t("PayPal"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_razorpay_enabled)===!0||(r==null?void 0:r.is_razorpay_enabled)==="1")&&C.push({id:"razorpay",name:t("Razorpay"),icon:e.jsx(we,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_mercadopago_enabled)===!0||(r==null?void 0:r.is_mercadopago_enabled)==="1")&&(r!=null&&r.mercadopago_access_token)&&C.push({id:"mercadopago",name:t("MercadoPago"),icon:e.jsx(ke,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_paystack_enabled)===!0||(r==null?void 0:r.is_paystack_enabled)==="1")&&C.push({id:"paystack",name:t("Paystack"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_flutterwave_enabled)===!0||(r==null?void 0:r.is_flutterwave_enabled)==="1")&&C.push({id:"flutterwave",name:t("Flutterwave"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_paytabs_enabled)===!0||(r==null?void 0:r.is_paytabs_enabled)==="1")&&C.push({id:"paytabs",name:t("PayTabs"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_skrill_enabled)===!0||(r==null?void 0:r.is_skrill_enabled)==="1")&&C.push({id:"skrill",name:t("Skrill"),icon:e.jsx(ke,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_coingate_enabled)===!0||(r==null?void 0:r.is_coingate_enabled)==="1")&&C.push({id:"coingate",name:t("CoinGate"),icon:e.jsx(Ee,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_payfast_enabled)===!0||(r==null?void 0:r.is_payfast_enabled)==="1")&&C.push({id:"payfast",name:t("Payfast"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_tap_enabled)===!0||(r==null?void 0:r.is_tap_enabled)==="1")&&C.push({id:"tap",name:t("Tap"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_xendit_enabled)===!0||(r==null?void 0:r.is_xendit_enabled)==="1")&&C.push({id:"xendit",name:t("Xendit"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_paytr_enabled)===!0||(r==null?void 0:r.is_paytr_enabled)==="1")&&C.push({id:"paytr",name:t("PayTR"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_mollie_enabled)===!0||(r==null?void 0:r.is_mollie_enabled)==="1")&&C.push({id:"mollie",name:t("Mollie"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_toyyibpay_enabled)===!0||(r==null?void 0:r.is_toyyibpay_enabled)==="1")&&C.push({id:"toyyibpay",name:t("toyyibPay"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_cashfree_enabled)===!0||(r==null?void 0:r.is_cashfree_enabled)==="1")&&C.push({id:"cashfree",name:t("Cashfree"),icon:e.jsx(we,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_khalti_enabled)===!0||(r==null?void 0:r.is_khalti_enabled)==="1")&&C.push({id:"khalti",name:t("Khalti"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_iyzipay_enabled)===!0||(r==null?void 0:r.is_iyzipay_enabled)==="1")&&C.push({id:"iyzipay",name:t("Iyzipay"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_benefit_enabled)===!0||(r==null?void 0:r.is_benefit_enabled)==="1")&&C.push({id:"benefit",name:t("Benefit"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_ozow_enabled)===!0||(r==null?void 0:r.is_ozow_enabled)==="1")&&C.push({id:"ozow",name:t("Ozow"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_easebuzz_enabled)===!0||(r==null?void 0:r.is_easebuzz_enabled)==="1")&&C.push({id:"easebuzz",name:t("Easebuzz"),icon:e.jsx(we,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_authorizenet_enabled)===!0||(r==null?void 0:r.is_authorizenet_enabled)==="1")&&C.push({id:"authorizenet",name:t("AuthorizeNet"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_fedapay_enabled)===!0||(r==null?void 0:r.is_fedapay_enabled)==="1")&&C.push({id:"fedapay",name:t("FedaPay"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_payhere_enabled)===!0||(r==null?void 0:r.is_payhere_enabled)==="1")&&C.push({id:"payhere",name:t("PayHere"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_cinetpay_enabled)===!0||(r==null?void 0:r.is_cinetpay_enabled)==="1")&&C.push({id:"cinetpay",name:t("CinetPay"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_paiement_enabled)===!0||(r==null?void 0:r.is_paiement_enabled)==="1")&&C.push({id:"paiement",name:t("Paiement Pro"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_nepalste_enabled)===!0||(r==null?void 0:r.is_nepalste_enabled)==="1")&&C.push({id:"nepalste",name:t("Nepalste"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_yookassa_enabled)===!0||(r==null?void 0:r.is_yookassa_enabled)==="1")&&C.push({id:"yookassa",name:t("YooKassa"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_aamarpay_enabled)===!0||(r==null?void 0:r.is_aamarpay_enabled)==="1")&&C.push({id:"aamarpay",name:t("Aamarpay"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_midtrans_enabled)===!0||(r==null?void 0:r.is_midtrans_enabled)==="1")&&C.push({id:"midtrans",name:t("Midtrans"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_paymentwall_enabled)===!0||(r==null?void 0:r.is_paymentwall_enabled)==="1")&&C.push({id:"paymentwall",name:t("PaymentWall"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),((r==null?void 0:r.is_sspay_enabled)===!0||(r==null?void 0:r.is_sspay_enabled)==="1")&&C.push({id:"sspay",name:t("SSPay"),icon:e.jsx(E,{className:"h-5 w-5"}),enabled:!0}),C},F=r=>d&&d.id===r.id&&d.expires_at&&new Date(d.expires_at)>new Date?e.jsxs(_,{disabled:!0,className:"w-full bg-green-100 text-green-800 border-green-200",children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),t("Already Subscribed")]}):r.is_current?e.jsxs(_,{disabled:!0,className:"w-full",children:[e.jsx(ge,{className:"h-4 w-4 mr-2"}),t("Current Plan")]}):r.is_trial_available&&!h?e.jsxs("div",{className:"space-y-2",children:[e.jsxs(_,{onClick:()=>V(r.id),disabled:L,variant:"outline",className:"w-full",children:[e.jsx(yr,{className:"h-4 w-4 mr-2"}),t("Start {{days}} Day Trial",{days:r.trial_days})]}),e.jsx(_,{onClick:()=>W(r.id),disabled:L,className:"w-full",children:t("Subscribe Now")})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs(_,{onClick:()=>k(r.id),disabled:L,variant:"outline",className:"w-full",children:[e.jsx(jr,{className:"h-4 w-4 mr-2"}),t("Request Plan")]}),e.jsx(_,{onClick:()=>W(r.id),disabled:L||d&&d.id===r.id&&d.expires_at&&new Date(d.expires_at)>new Date,className:"w-full",children:d&&d.id===r.id&&d.expires_at&&new Date(d.expires_at)>new Date?t("Already Subscribed"):t("Subscribe Now")})]}),A=(r,C)=>r.features.includes(C),se=r=>{const C=l.find($=>$.id===r),H=!(C!=null&&C.status);P.loading(`${t(H?"Activating":"Deactivating")} plan...`),ne.post(route("plans.toggle-status",r),{},{preserveState:!0,onSuccess:$=>{var he,xe;P.dismiss(),o(l.map(de=>de.id===r?{...de,status:!de.status}:de)),(he=$.props.flash)!=null&&he.success?P.success(t($.props.flash.success)):(xe=$.props.flash)!=null&&xe.error&&P.error(t($.props.flash.error))},onError:$=>{P.dismiss(),typeof $=="string"?P.error(t($)):P.error(t("Failed to update plan status: {{errors}}",{errors:Object.values($).join(", ")}))}})},re=r=>{u(r),m(!0)},le=()=>{j&&(P.loading(t("Deleting plan...")),ne.delete(route("plans.destroy",j.id),{onSuccess:r=>{var C,H;m(!1),u(null),P.dismiss(),(C=r.props.flash)!=null&&C.success?P.success(t(r.props.flash.success)):(H=r.props.flash)!=null&&H.error&&P.error(t(r.props.flash.error))},onError:r=>{P.dismiss(),typeof r=="string"?P.error(t(r)):P.error(t("Failed to delete plan: {{errors}}",{errors:Object.values(r).join(", ")}))}}))},oe=["AI Integration"],ie={users:e.jsx(Es,{className:"h-5 w-5"}),employees:e.jsx(Es,{className:"h-5 w-5"}),storage:e.jsx(br,{className:"h-5 w-5"})};return e.jsx(Zs,{title:t("Plans"),breadcrumbs:Q,description:t("Manage subscription plans for your customers"),url:"/plans",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight mb-2",children:t(c?"Subscription Plans":"Choose Your Plan")}),e.jsx("p",{className:"text-muted-foreground max-w-2xl",children:t(c?"Create and manage subscription plans to offer different service tiers to your customers.":"Select the perfect plan for your business needs")})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[e.jsx(lr,{value:b,onValueChange:r=>ee(r),className:"w-full sm:w-[400px]",children:e.jsxs(or,{className:"grid w-full grid-cols-2",children:[e.jsx(Cs,{value:"monthly",children:t("Monthly")}),e.jsxs(Cs,{value:"yearly",children:[t("Yearly"),e.jsx(Bs,{variant:"outline",className:"ml-2 bg-green-100 text-green-800 border-green-200",children:t("Save 20%")})]})]})}),c&&e.jsxs(_,{className:"w-full sm:w-auto",onClick:()=>ne.get(route("plans.create")),children:[e.jsx(nr,{className:"h-4 w-4 mr-2"}),t("Add Plan")]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map(r=>e.jsxs("div",{className:`group relative h-full flex flex-col ${r.recommended?"z-10 scale-[1.02]":""}`,children:[e.jsxs("div",{className:`
                absolute inset-0 rounded-2xl 
                ${r.recommended?"bg-gradient-to-br from-primary/20 via-primary/10 to-transparent border-primary/30":"bg-gradient-to-br from-gray-100/80 via-gray-50/50 to-transparent border-gray-200/80"} 
                border shadow-lg transition-all duration-300 
                group-hover:shadow-xl group-hover:shadow-primary/5
                overflow-hidden
              `,children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/10 to-transparent rounded-full -mr-16 -mt-16 opacity-70"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-gradient-to-tr from-primary/10 to-transparent rounded-full -ml-12 -mb-12 opacity-50"})]}),r.recommended&&e.jsx("div",{className:"absolute -top-4 left-0 right-0 flex justify-center z-20",children:e.jsxs("div",{className:"bg-primary text-primary-foreground px-4 py-1.5 rounded-full shadow-lg flex items-center gap-1.5 text-sm font-medium",children:[e.jsx(_s,{className:"h-4 w-4"}),t("Recommended")]})}),c&&e.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2",children:[r.is_default&&e.jsx("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-700",children:t("Default")}),e.jsxs("div",{className:`
                    flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium
                    ${r.status?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}
                  `,children:[e.jsx("span",{className:`
                      w-2 h-2 rounded-full 
                      ${r.status?"bg-emerald-500":"bg-red-500"}
                    `}),r.status?t("Active"):t("Inactive")]})]}),!c&&r.is_current&&e.jsx("div",{className:"absolute top-4 right-4 z-10",children:e.jsxs("div",{className:"flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-primary/10 text-primary",children:[e.jsx(ge,{className:"h-3 w-3"}),t("Current")]})}),e.jsxs("div",{className:"relative z-10 flex flex-col h-full p-6 pt-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:`
                    text-2xl font-bold mb-2 
                    ${r.recommended?"text-primary":""}
                  `,children:r.name}),e.jsxs("div",{className:"flex items-baseline gap-1.5 mb-3",children:[e.jsxs("span",{className:`
                      text-3xl font-extrabold 
                      ${r.recommended?"text-primary":""}
                    `,children:[s,r.price]}),e.jsxs("span",{className:"text-muted-foreground text-sm",children:["/",t(r.duration.toLowerCase())]})]}),e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed line-clamp-2 mb-3",children:r.description}),r.trial_days>0&&e.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-primary",children:[e.jsx(_s,{className:"h-3.5 w-3.5"}),t("{{days}} days free trial",{days:r.trial_days})]})]}),e.jsxs("div",{className:"relative flex items-center my-4",children:[e.jsx("div",{className:"flex-grow border-t border-gray-200"}),e.jsx("div",{className:"mx-3 bg-primary/10 text-primary p-1.5 rounded-full",children:e.jsx(ks,{className:"h-4 w-4"})}),e.jsx("div",{className:"flex-grow border-t border-gray-200"})]}),e.jsxs("div",{className:"mb-6 flex-1",children:[e.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:t("Features")}),e.jsx("ul",{className:"space-y-2.5",children:oe.map((C,H)=>{const $=A(r,C);return e.jsxs("li",{className:"flex items-center gap-3",children:[$?e.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-primary/10 text-primary flex items-center justify-center",children:e.jsx(ks,{className:"h-3.5 w-3.5"})}):e.jsx("div",{className:"flex-shrink-0 w-5 h-5 rounded-full bg-gray-100 text-gray-400 flex items-center justify-center",children:e.jsx(ir,{className:"h-3.5 w-3.5"})}),e.jsx("span",{className:`text-sm ${$?"font-medium":"text-muted-foreground"}`,children:t(C)})]},H)})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold uppercase tracking-wider text-muted-foreground mb-3",children:t("Usage Limits")}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-emerald-100 text-emerald-600",children:ie.users}),e.jsx("div",{className:"text-xl font-bold text-emerald-700",children:r.stats.users})]}),e.jsx("div",{className:"relative text-xs font-medium text-emerald-600 uppercase tracking-wide",children:t("Users")})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-blue-100 text-blue-600",children:ie.employees}),e.jsx("div",{className:"text-xl font-bold text-blue-700",children:r.stats.employees})]}),e.jsx("div",{className:"relative text-xs font-medium text-blue-600 uppercase tracking-wide",children:t("Employees")})]}),e.jsxs("div",{className:"relative overflow-hidden bg-white rounded-xl border border-gray-200 p-3 group-hover:border-primary/30 transition-colors",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-amber-50 to-transparent opacity-70"}),e.jsxs("div",{className:"relative flex items-center gap-2 mb-1",children:[e.jsx("div",{className:"p-1.5 rounded-full bg-amber-100 text-amber-600",children:ie.storage}),e.jsx("div",{className:"text-xl font-bold text-amber-700",children:r.stats.storage})]}),e.jsx("div",{className:"relative text-xs font-medium text-amber-600 uppercase tracking-wide",children:t("Storage")})]})]})]}),e.jsx("div",{className:"mt-auto pt-4 border-t border-gray-200",children:c?e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(cr,{checked:r.status,onCheckedChange:()=>se(r.id),className:r.status?"data-[state=checked]:bg-primary":""}),e.jsx("span",{className:"text-sm text-muted-foreground",children:r.status?t("Active"):t("Inactive")})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{variant:"outline",size:"sm",className:"h-9 w-9 p-0 border-gray-200 hover:border-primary hover:text-primary",title:t("Edit"),onClick:()=>ne.get(route("plans.edit",r.id)),children:e.jsx(xr,{className:"h-4 w-4"})}),!r.is_default&&e.jsx(_,{variant:"outline",size:"sm",className:"h-9 w-9 p-0 border-gray-200 hover:border-red-400 hover:text-red-600",title:t("Delete"),onClick:()=>re(r),children:e.jsx(fr,{className:"h-4 w-4"})})]})]}):F(r)})]})]},r.id))}),c&&e.jsx(dr,{isOpen:x,onClose:()=>m(!1),onConfirm:le,itemName:(j==null?void 0:j.name)||"",entityName:"plan"}),!c&&M&&e.jsx(Ia,{isOpen:p,onClose:()=>{g(!1),T(null)},plan:M,billingCycle:b,paymentMethods:ce(M.paymentMethods),currencySymbol:s})]})})}export{bt as default};
