import{r as xe,j as e}from"./ui-C9UzXxo-.js";import{P as De,C as he,B as Ce}from"./page-template-B2HXPu-s.js";import{u as Se,K as Te,S as o,C as a,p as d,g as Be,q as c,r as x,a6 as Ee,v as pe,B as j,F as ke,X as Ie,t as r}from"./app-CePVSpCk.js";import{T as Ae,a as Pe,b as h,c as p}from"./tabs-DRsPt7bW.js";import{C as $e}from"./CrudDeleteModal-CqSiuuPI.js";import{u as Le}from"./use-initials-Cc4cPBcQ.js";import{A as Fe}from"./arrow-left-CLCYWjlI.js";import{U as Me}from"./user-Cs-z8Fus.js";import{M as Oe}from"./mail-wmSCdBQm.js";import{P as Re}from"./phone-DUkL7MZF.js";import{B as ue}from"./building-CTTlMSBK.js";import{D as ze}from"./download-Dy8kf_tz.js";import{T as Ue}from"./trash-2-3E96f3UA.js";import"./vendor-CxtKjBZA.js";import"./textarea-CiZFgYfM.js";import"./select-79vLaRYu.js";import"./index-BK2YBUn9.js";import"./chevron-up-FpzKnv5W.js";import"./language-BWaL1pXC.js";import"./CookieConsentBanner-9JM6Tk5v.js";import"./globe-DIoyL4mD.js";import"./switch-BT9_4soN.js";import"./copy-BbEiGrsE.js";import"./credit-card-Cw26BS3B.js";import"./settings-CabqR4KC.js";import"./dollar-sign-BZxmLz_1.js";import"./users-B2V-gWAi.js";import"./clock-DvHC5ovF.js";import"./coins-Curs0q0e.js";import"./use-favicon-BlwZF4jE.js";/* empty css            *//* empty css                  */import"./utils-2yqaTY3d.js";function _s(){var N,v,_,b,w,D,C,S,T,B,E,k,I,A,P,$,L,F,M,O,R,z,U,H,V,J,q,G,K,W,X,Z,Q,Y,ee,se,te,ie,re,ne,le,ae,de,me,oe,ce;const{t}=Se(),{auth:f,employee:s}=Te().props,g=(f==null?void 0:f.permissions)||[],je=Le(),[fe,ge]=xe.useState(!1),[ye,Ne]=xe.useState("basic_info"),ve=()=>{r.loading(t("Deleting employee...")),o.delete(route("hr.employees.destroy",s.id),{onSuccess:i=>{r.dismiss(),i.props.flash.success?r.success(t(i.props.flash.success)):i.props.flash.error&&r.error(t(i.props.flash.error)),o.get(route("hr.employees.index"))},onError:i=>{r.dismiss(),typeof i=="string"?r.error(t(i)):r.error(t("Failed to delete employee: {{errors}}",{errors:Object.values(i).join(", ")}))}})},_e=i=>{r.loading(t("Deleting document...")),o.delete(route("hr.employees.documents.destroy",[s.id,i]),{onSuccess:n=>{r.dismiss(),n.props.flash.success?r.success(t(n.props.flash.success)):n.props.flash.error&&r.error(t(n.props.flash.error))},onError:n=>{r.dismiss(),typeof n=="string"?r.error(t(n)):r.error(t("Failed to delete document: {{errors}}",{errors:Object.values(n).join(", ")}))}})},y=(i,n)=>{const m=n==="verified"?"approve":"reject";r.loading(t(`${n==="verified"?"Approving":"Rejecting"} document...`)),o.put(route(`hr.employees.documents.${m}`,[s.id,i]),{},{onSuccess:l=>{var u;r.dismiss(),(u=l.props.flash)!=null&&u.success?r.success(t(l.props.flash.success)):r.success(t(`Document ${n==="verified"?"approved":"rejected"} successfully`))},onError:l=>{r.dismiss();const u=(l==null?void 0:l.message)||Object.values(l)[0]||`Failed to ${m} document`;r.error(t(u))}})},be=[{label:t("Back to Employees"),icon:e.jsx(Fe,{className:"h-4 w-4 mr-2"}),variant:"outline",onClick:()=>o.get(route("hr.employees.index"))}],we=[{title:t("Dashboard"),href:route("dashboard")},{title:t("HR Management"),href:route("hr.employees.index")},{title:t("Employees"),href:route("hr.employees.index")},{title:(s==null?void 0:s.name)||t("Employee Details")}];return e.jsxs(De,{title:(s==null?void 0:s.name)||t("Employee Details"),url:`/hr/employees/${s==null?void 0:s.id}`,actions:be,breadcrumbs:we,children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx(a,{className:"lg:col-span-1",children:e.jsx(d,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"h-32 w-32 rounded-full bg-primary text-white flex items-center justify-center text-3xl font-bold mb-4 overflow-hidden",children:s.avatar?e.jsx("img",{src:Be(s.avatar),alt:s.name,className:"h-full w-full object-cover"}):je(s.name)}),e.jsx("h2",{className:"text-xl font-bold mb-1",children:s.name}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:((v=(N=s.employee)==null?void 0:N.designation)==null?void 0:v.name)||"-"}),e.jsx("div",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium mb-4 ${s.status==="active"?"bg-green-50 text-green-700 ring-1 ring-inset ring-green-600/20":"bg-red-50 text-red-700 ring-1 ring-inset ring-red-600/20"}`,children:s.status==="active"?t("Active"):t("Inactive")}),e.jsxs("div",{className:"w-full space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Me,{className:"h-4 w-4 mr-2 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:[t("Employee ID"),": ",(_=s.employee)==null?void 0:_.employee_id]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Oe,{className:"h-4 w-4 mr-2 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:s.email})]}),((b=s.employee)==null?void 0:b.phone)&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Re,{className:"h-4 w-4 mr-2 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:s.employee.phone})]}),((w=s.employee)==null?void 0:w.date_of_birth)&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-2 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:[t("DOB"),": ",((D=window.appSettings)==null?void 0:D.formatDateTime(s.employee.date_of_birth,!1))||new Date(s.employee.date_of_birth).toLocaleDateString()]})]}),((C=s.employee)==null?void 0:C.date_of_joining)&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(he,{className:"h-4 w-4 mr-2 text-muted-foreground"}),e.jsxs("span",{className:"text-sm",children:[t("Joined"),": ",((S=window.appSettings)==null?void 0:S.formatDateTime(s.employee.date_of_joining,!1))||new Date(s.employee.date_of_joining).toLocaleDateString()]})]}),((B=(T=s.employee)==null?void 0:T.department)==null?void 0:B.name)&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-2 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:s.employee.department.name})]}),((k=(E=s.employee)==null?void 0:E.branch)==null?void 0:k.name)&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(ue,{className:"h-4 w-4 mr-2 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:s.employee.branch.name})]}),((I=s.employee)==null?void 0:I.employment_type)&&e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:s.employee.employment_type})]})]})]})})}),e.jsx("div",{className:"lg:col-span-3",children:e.jsxs(Ae,{value:ye,onValueChange:Ne,className:"w-full",children:[e.jsxs(Pe,{className:"grid grid-cols-5 mb-4",children:[e.jsx(h,{value:"basic_info",children:t("Basic Info")}),e.jsx(h,{value:"employment",children:t("Employment")}),e.jsx(h,{value:"contact",children:t("Contact")}),e.jsx(h,{value:"banking",children:t("Banking")}),e.jsx(h,{value:"documents",children:t("Documents")})]}),e.jsx(p,{value:"basic_info",children:e.jsxs(a,{children:[e.jsx(c,{children:e.jsx(x,{children:t("Basic Information")})}),e.jsx(d,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Full Name")}),e.jsx("p",{children:s.name})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Employee ID")}),e.jsx("p",{children:(A=s.employee)==null?void 0:A.employee_id})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Email")}),e.jsx("p",{children:s.email})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Phone Number")}),e.jsx("p",{children:((P=s.employee)==null?void 0:P.phone)||"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Date of Birth")}),e.jsx("p",{children:($=s.employee)!=null&&$.date_of_birth?((L=window.appSettings)==null?void 0:L.formatDateTime(s.employee.date_of_birth,!1))||new Date(s.employee.date_of_birth).toLocaleDateString():"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Gender")}),e.jsx("p",{children:(F=s.employee)!=null&&F.gender?t(s.employee.gender.charAt(0).toUpperCase()+s.employee.gender.slice(1)):"-"})]})]})})]})}),e.jsx(p,{value:"employment",children:e.jsxs(a,{children:[e.jsx(c,{children:e.jsx(x,{children:t("Employment Details")})}),e.jsx(d,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Branch")}),e.jsx("p",{children:((O=(M=s.employee)==null?void 0:M.branch)==null?void 0:O.name)||"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Department")}),e.jsx("p",{children:((z=(R=s.employee)==null?void 0:R.department)==null?void 0:z.name)||"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Designation")}),e.jsx("p",{children:((H=(U=s.employee)==null?void 0:U.designation)==null?void 0:H.name)||"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Date of Joining")}),e.jsx("p",{children:(V=s.employee)!=null&&V.date_of_joining?((J=window.appSettings)==null?void 0:J.formatDateTime(s.employee.date_of_joining,!1))||new Date(s.employee.date_of_joining).toLocaleDateString():"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Employment Type")}),e.jsx("p",{children:((q=s.employee)==null?void 0:q.employment_type)||"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Employment Status")}),e.jsx("p",{children:s.status?t(s.status.charAt(0).toUpperCase()+s.status.slice(1)):"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Shift")}),e.jsx("p",{children:(G=s.employee)!=null&&G.shift?`${s.employee.shift.name} (${s.employee.shift.start_time} - ${s.employee.shift.end_time})`:"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Attendance Policy")}),e.jsx("p",{children:((W=(K=s.employee)==null?void 0:K.attendance_policy)==null?void 0:W.name)||"-"})]})]})})]})}),e.jsx(p,{value:"contact",children:e.jsxs(a,{children:[e.jsx(c,{children:e.jsx(x,{children:t("Contact Information")})}),e.jsxs(d,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Address Line 1")}),e.jsx("p",{children:((X=s.employee)==null?void 0:X.address_line_1)||"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Address Line 2")}),e.jsx("p",{children:((Z=s.employee)==null?void 0:Z.address_line_2)||"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("City")}),e.jsx("p",{children:((Q=s.employee)==null?void 0:Q.city)||"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("State/Province")}),e.jsx("p",{children:((Y=s.employee)==null?void 0:Y.state)||"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Country")}),e.jsx("p",{children:((ee=s.employee)==null?void 0:ee.country)||"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Postal/Zip Code")}),e.jsx("p",{children:((se=s.employee)==null?void 0:se.postal_code)||"-"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:t("Emergency Contact")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Name")}),e.jsx("p",{children:((te=s.employee)==null?void 0:te.emergency_contact_name)||"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Relationship")}),e.jsx("p",{children:((ie=s.employee)==null?void 0:ie.emergency_contact_relationship)||"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Phone Number")}),e.jsx("p",{children:((re=s.employee)==null?void 0:re.emergency_contact_number)||"-"})]})]})]})]})]})}),e.jsx(p,{value:"banking",children:e.jsxs(a,{children:[e.jsx(c,{children:e.jsx(x,{children:t("Banking Information")})}),e.jsx(d,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Bank Name")}),e.jsx("p",{children:((ne=s.employee)==null?void 0:ne.bank_name)||"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Account Holder Name")}),e.jsx("p",{children:((le=s.employee)==null?void 0:le.account_holder_name)||"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Account Number")}),e.jsx("p",{children:((ae=s.employee)==null?void 0:ae.account_number)||"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Bank Identifier Code (BIC/SWIFT)")}),e.jsx("p",{children:((de=s.employee)==null?void 0:de.bank_identifier_code)||"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Bank Branch")}),e.jsx("p",{children:((me=s.employee)==null?void 0:me.bank_branch)||"-"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-muted-foreground",children:t("Tax Payer ID")}),e.jsx("p",{children:((oe=s.employee)==null?void 0:oe.tax_payer_id)||"-"})]})]})})]})}),e.jsx(p,{value:"documents",children:e.jsxs(a,{children:[e.jsx(c,{children:e.jsx(x,{children:t("Documents")})}),e.jsx(d,{children:(ce=s.employee)!=null&&ce.documents&&s.employee.documents.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.employee.documents.map(i=>{var n,m;return e.jsx(a,{className:"border",children:e.jsx(d,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ee,{className:"h-8 w-8 mr-3 text-primary"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:(n=i.document_type)==null?void 0:n.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:i.expiry_date?`${t("Expires")}: ${((m=window.appSettings)==null?void 0:m.formatDateTime(i.expiry_date,!1))||new Date(i.expiry_date).toLocaleDateString()}`:t("No expiry date")}),e.jsx("div",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium mt-2 ${i.verification_status==="verified"?"bg-green-50 text-green-700 ring-1 ring-inset ring-green-600/20":i.verification_status==="rejected"?"bg-red-50 text-red-700 ring-1 ring-inset ring-red-600/20":"bg-yellow-50 text-yellow-700 ring-1 ring-inset ring-yellow-600/20"}`,children:i.verification_status==="verified"?t("Verified"):i.verification_status==="rejected"?t("Rejected"):t("Pending")})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(j,{variant:"outline",size:"sm",onClick:()=>window.open(route("hr.employees.documents.download",[s.id,i.id]),"_blank"),children:e.jsx(ze,{className:"h-4 w-4"})}),pe(g,"edit-employees")&&e.jsx(j,{variant:"outline",size:"sm",onClick:()=>_e(i.id),children:e.jsx(Ue,{className:"h-4 w-4 text-red-500"})}),pe(g,"edit-employees")&&i.verification_status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsx(j,{variant:"outline",size:"sm",onClick:()=>y(i.id,"verified"),className:"text-green-600 hover:text-green-700",children:e.jsx(ke,{className:"h-4 w-4"})}),e.jsx(j,{variant:"outline",size:"sm",onClick:()=>y(i.id,"rejected"),className:"text-red-600 hover:text-red-700",children:e.jsx(Ie,{className:"h-4 w-4"})})]})]})]})})},i.id)})}):e.jsx("div",{className:"text-center py-8 text-muted-foreground",children:t("No documents found")})})]})})]})})]}),e.jsx($e,{isOpen:fe,onClose:()=>ge(!1),onConfirm:ve,itemName:(s==null?void 0:s.name)||"",entityName:"employee"})]})}export{_s as default};
