import{j as e}from"./ui-C9UzXxo-.js";import{P as S}from"./page-template-B2HXPu-s.js";import{u as C,K as D,S as p,t as o,C as i,q as n,r as l,p as m}from"./app-CePVSpCk.js";import{C as v}from"./CrudTable-Dqp1N8Wk.js";import{A as k}from"./arrow-left-CLCYWjlI.js";import{D as P}from"./download-Dy8kf_tz.js";import{U as T}from"./users-B2V-gWAi.js";import{D as d}from"./dollar-sign-BZxmLz_1.js";import"./vendor-CxtKjBZA.js";import"./textarea-CiZFgYfM.js";import"./select-79vLaRYu.js";import"./index-BK2YBUn9.js";import"./chevron-up-FpzKnv5W.js";import"./language-BWaL1pXC.js";import"./CookieConsentBanner-9JM6Tk5v.js";import"./globe-DIoyL4mD.js";import"./switch-BT9_4soN.js";import"./copy-BbEiGrsE.js";import"./credit-card-Cw26BS3B.js";import"./settings-CabqR4KC.js";import"./clock-DvHC5ovF.js";import"./coins-Curs0q0e.js";import"./user-Cs-z8Fus.js";import"./use-favicon-BlwZF4jE.js";/* empty css            *//* empty css                  */import"./utils-2yqaTY3d.js";import"./table-C8TGnN1g.js";import"./ticket-DmZKwvAa.js";import"./unlink-BcdgK3yb.js";import"./wrench-CGU7Ft1Y.js";import"./arrow-right-C7JdH4Ti.js";import"./circle-help-C0S-oTMA.js";import"./lock-open-DSiBsvyN.js";import"./award-T4ZI43xQ.js";import"./wallet-DeVx02LK.js";import"./bell-CaHg65eG.js";import"./cookie-DINhGU1S.js";import"./building-2-Bxzvq01n.js";import"./building-CTTlMSBK.js";import"./trending-down-BBDyDMXb.js";import"./camera-B6YrOv6y.js";import"./chart-column-BuvtPv5K.js";import"./chart-no-axes-column-increasing-DpU2YTLr.js";import"./wifi-BWLuvSZA.js";import"./circle-alert-CPcUaQHG.js";import"./circle-check-big-QRVzFaq_.js";import"./circle-check-Bsqe1Oy2.js";import"./circle-hahOXJb0.js";import"./clipboard-list-CYu519l_.js";import"./code-DLKgizn0.js";import"./tag-DLA_9-Gh.js";import"./ellipsis-B7Dcpmjs.js";import"./eye-off-D_POAzrb.js";import"./eye-Ds3O8uul.js";import"./instagram-DJ274emi.js";import"./filter-CJHBgxPm.js";import"./grip-vertical-GkNxvp67.js";import"./hard-drive-CvIusyLX.js";import"./heart-BxdfWe5j.js";import"./info-Cfzy708t.js";import"./layers-i14JjJ6T.js";import"./target-ChKhh3Jh.js";import"./link-2-Dyh9Asfo.js";import"./twitter-DvSPin83.js";import"./list-gVaFRlBo.js";import"./lock-BmEkJcEt.js";import"./mail-wmSCdBQm.js";import"./map-pin-CqHzBf39.js";import"./menu-C113HrJq.js";import"./monitor-CP12Y-ih.js";import"./phone-DUkL7MZF.js";import"./play-GEQInAgQ.js";import"./printer-CupyjDD-.js";import"./qr-code-C0PGAHLZ.js";import"./quote-DD8yfV5f.js";import"./refresh-cw-Dvtr6Xsn.js";import"./send-BHiBrVVZ.js";import"./server-B0O429oP.js";import"./shield-CGsXD3Oj.js";import"./square-pen-Df-vO64U.js";import"./star-Cn_AU9AC.js";import"./trash-2-3E96f3UA.js";import"./trash-D_jTiZX2.js";import"./trending-up-Ne7cjba9.js";import"./triangle-alert-CTrT4JQG.js";import"./type-uKUPsFU3.js";import"./user-plus-D-lxH5Xo.js";import"./zap-DH-5T0aI.js";function ct(){var x,y,u,f,h,g,j;const{t}=C(),{payrollRun:a}=D().props,w=[{title:t("Dashboard"),href:route("dashboard")},{title:t("Payroll Management"),href:route("hr.payroll-runs.index")},{title:t("Payroll Runs"),href:route("hr.payroll-runs.index")},{title:a.title}],c=[{label:t("Back to List"),icon:e.jsx(k,{className:"h-4 w-4 mr-2"}),variant:"outline",onClick:()=>p.get(route("hr.payroll-runs.index"))}];a.status==="completed"&&c.unshift({label:t("Generate Payslips"),icon:e.jsx(P,{className:"h-4 w-4 mr-2"}),variant:"default",onClick:()=>N()});const N=()=>{o.loading(t("Generating payslips...")),p.post(route("hr.payslips.bulk-generate"),{payroll_run_id:a.id},{onSuccess:r=>{o.dismiss(),r.props.flash.success?(o.success(t(r.props.flash.success)),setTimeout(()=>{p.get(route("hr.payslips.index"))},1e3)):r.props.flash.error&&o.error(t(r.props.flash.error))},onError:r=>{o.dismiss(),typeof r=="string"?o.error(r):o.error("Failed to generate payslips")}})},_=r=>{const s={draft:"bg-gray-50 text-gray-700 ring-gray-600/20",processing:"bg-yellow-50 text-yellow-700 ring-yellow-600/20",completed:"bg-green-50 text-green-700 ring-green-600/20",cancelled:"bg-red-50 text-red-700 ring-red-600/20"};return s[r]||s.draft};return e.jsxs(S,{title:a.title,url:`/hr/payroll-runs/${a.id}`,actions:c,breadcrumbs:w,children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:t("Total Employees")}),e.jsx(T,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(m,{children:e.jsx("div",{className:"text-2xl font-bold",children:a.employee_count})})]}),e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:t("Gross Pay")}),e.jsx(d,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(m,{children:e.jsx("div",{className:"text-2xl font-bold text-green-600",children:(x=window.appSettings)==null?void 0:x.formatCurrency(a.total_gross_pay)})})]}),e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:t("Total Deductions")}),e.jsx(d,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(m,{children:e.jsx("div",{className:"text-2xl font-bold text-red-600",children:(y=window.appSettings)==null?void 0:y.formatCurrency(a.total_deductions)})})]}),e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:t("Net Pay")}),e.jsx(d,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(m,{children:e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(u=window.appSettings)==null?void 0:u.formatCurrency(a.total_net_pay)})})]})]}),e.jsxs(i,{className:"mb-6",children:[e.jsx(n,{children:e.jsx(l,{children:t("Payroll Run Details")})}),e.jsxs(m,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:t("Pay Period")}),e.jsxs("p",{className:"text-sm",children:[((f=window.appSettings)==null?void 0:f.formatDateTime(a.pay_period_start,!1))||new Date(a.pay_period_start).toLocaleDateString()," - ",((h=window.appSettings)==null?void 0:h.formatDateTime(a.pay_period_end,!1))||new Date(a.pay_period_end).toLocaleDateString()]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:t("Pay Date")}),e.jsx("p",{className:"text-sm",children:((g=window.appSettings)==null?void 0:g.formatDateTime(a.pay_date,!1))||new Date(a.pay_date).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:t("Payroll Frequency")}),e.jsx("p",{className:"text-sm",children:e.jsx("span",{className:"inline-flex items-center rounded-md bg-blue-50 px-2 py-1 text-xs font-medium text-blue-700 ring-1 ring-inset ring-blue-700/10",children:a.payroll_frequency==="weekly"?t("Weekly"):a.payroll_frequency==="biweekly"?t("Bi-Weekly"):t("Monthly")})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:t("Status")}),e.jsx("p",{children:e.jsx("span",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium ring-1 ring-inset ${_(a.status)}`,children:t(a.status)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:t("Created At")}),e.jsx("p",{className:"text-sm",children:((j=window.appSettings)==null?void 0:j.formatDateTime(a.created_at,!1))||new Date(a.created_at).toLocaleDateString()})]})]}),a.notes&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"text-sm font-medium text-gray-500",children:t("Notes")}),e.jsx("p",{className:"text-sm mt-1",children:a.notes})]})]})]}),e.jsxs(i,{children:[e.jsxs(n,{children:[e.jsx(l,{children:t("Employee Payroll Entries")}),e.jsxs("div",{className:"mt-2 p-3 bg-blue-50 rounded-md space-y-2",children:[e.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:[t("Gross Pay Formula")," : ",e.jsx("span",{className:"font-mono",children:"Total Earnings (Basic Salary + Component Earning) - Unpaid Leave Deduction + Overtime Earnings"})]}),e.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:[t("Net Salary Formula")," : ",e.jsx("span",{className:"font-mono",children:"Gross Pay - Total Deductions"})]})]})]}),e.jsx(m,{children:e.jsx(v,{columns:[{key:"employee",label:t("Employee"),render:(r,s)=>{var b;return((b=s.employee)==null?void 0:b.name)||"-"}},{key:"basic_salary",label:t("Basic Salary"),render:r=>{var s;return e.jsx("span",{className:"font-mono text-gray-900",children:(s=window.appSettings)==null?void 0:s.formatCurrency(r)})}},{key:"per_day_salary",label:t("Per Day Salary"),render:r=>{var s;return e.jsx("span",{className:"font-mono text-green-600",children:(s=window.appSettings)==null?void 0:s.formatCurrency(r||0)})}},{key:"component_earnings",label:t("Component Earnings"),render:r=>{var s;return e.jsx("span",{className:"font-mono text-blue-600",children:(s=window.appSettings)==null?void 0:s.formatCurrency(r||0)})}},{key:"total_earnings",label:t("Total Earning"),render:r=>{var s;return e.jsx("span",{className:"font-mono text-blue-600",children:(s=window.appSettings)==null?void 0:s.formatCurrency(r||0)})}},{key:"working_days",label:t("Working Days"),render:r=>r||0},{key:"present_days",label:t("Present Days"),render:r=>r||0},{key:"overtime_hours",label:t("Overtime Hours"),render:r=>`${r||0}h`},{key:"overtime_amount",label:t("Overtime Earnings"),render:r=>{var s;return e.jsx("span",{className:"font-mono text-green-600",children:(s=window.appSettings)==null?void 0:s.formatCurrency(r||0)})}},{key:"unpaid_leave_deduction",label:t("Leave Deductions"),render:r=>{var s;return e.jsx("span",{className:"font-mono text-red-600",children:(s=window.appSettings)==null?void 0:s.formatCurrency(r||0)})}},{key:"gross_pay",label:t("Gross Pay"),render:r=>{var s;return e.jsx("span",{className:"font-mono text-green-600",children:(s=window.appSettings)==null?void 0:s.formatCurrency(r)})}},{key:"total_deductions",label:t("Component Deduction"),render:r=>{var s;return e.jsx("span",{className:"font-mono text-red-600",children:(s=window.appSettings)==null?void 0:s.formatCurrency(r)})}},{key:"net_pay",label:t("Net Pay"),render:r=>{var s;return e.jsx("span",{className:"font-mono text-blue-600 font-bold",children:(s=window.appSettings)==null?void 0:s.formatCurrency(r)})}}],data:a.payroll_entries||[],from:1,onAction:()=>{},permissions:[],entityPermissions:{},actions:[],showActions:!1})})]})]})}export{ct as default};
