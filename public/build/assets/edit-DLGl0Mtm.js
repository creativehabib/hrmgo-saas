import{r as g,j as e}from"./ui-C9UzXxo-.js";import{P as Ee}from"./page-template-B2HXPu-s.js";import{u as Pe,K as Ie,g as k,S as C,C as f,q as w,r as S,p as N,L as l,I as m,M as ue,B as v,P as je,t as p}from"./app-CePVSpCk.js";import{S as _,a as u,b as j,c as y,d as x}from"./select-79vLaRYu.js";import{R as $e,a as A}from"./radio-group-DixjSev-.js";import{T as ye}from"./trash-2-3E96f3UA.js";import{A as Te}from"./arrow-left-CLCYWjlI.js";import"./vendor-CxtKjBZA.js";import"./textarea-CiZFgYfM.js";import"./language-BWaL1pXC.js";import"./CookieConsentBanner-9JM6Tk5v.js";import"./globe-DIoyL4mD.js";import"./switch-BT9_4soN.js";import"./copy-BbEiGrsE.js";import"./chevron-up-FpzKnv5W.js";import"./credit-card-Cw26BS3B.js";import"./settings-CabqR4KC.js";import"./dollar-sign-BZxmLz_1.js";import"./users-B2V-gWAi.js";import"./clock-DvHC5ovF.js";import"./coins-Curs0q0e.js";import"./user-Cs-z8Fus.js";import"./use-favicon-BlwZF4jE.js";/* empty css            *//* empty css                  */import"./utils-2yqaTY3d.js";import"./index-BK2YBUn9.js";import"./circle-hahOXJb0.js";function xs(){var M,z,G,H,q,K,U,W,J,Z,Q,X,Y,ee,se,ae,te,re,ne,ie,le,de,ce,oe,me,xe,he,pe;const{t}=Pe(),{employee:i,branches:ge,departments:V,designations:L,documentTypes:fe,shifts:D,attendancePolicies:E}=Ie().props,[n,P]=g.useState({name:i.name||"",employee_id:((M=i.employee)==null?void 0:M.employee_id)||"",email:i.email||"",password:"",phone:((z=i.employee)==null?void 0:z.phone)||"",date_of_birth:((G=i.employee)==null?void 0:G.date_of_birth)||"",gender:((H=i.employee)==null?void 0:H.gender)||"",branch_id:(q=i.employee)!=null&&q.branch_id?i.employee.branch_id.toString():"",department_id:(K=i.employee)!=null&&K.department_id?i.employee.department_id.toString():"",designation_id:(U=i.employee)!=null&&U.designation_id?i.employee.designation_id.toString():"",shift_id:(W=i.employee)!=null&&W.shift_id?i.employee.shift_id.toString():"",attendance_policy_id:(J=i.employee)!=null&&J.attendance_policy_id?i.employee.attendance_policy_id.toString():"",date_of_joining:((Z=i.employee)==null?void 0:Z.date_of_joining)||"",employment_type:((Q=i.employee)==null?void 0:Q.employment_type)||"Full-time",employment_status:((X=i.employee)==null?void 0:X.employment_status)||"active",address_line_1:((Y=i.employee)==null?void 0:Y.address_line_1)||"",address_line_2:((ee=i.employee)==null?void 0:ee.address_line_2)||"",city:((se=i.employee)==null?void 0:se.city)||"",state:((ae=i.employee)==null?void 0:ae.state)||"",country:((te=i.employee)==null?void 0:te.country)||"",postal_code:((re=i.employee)==null?void 0:re.postal_code)||"",emergency_contact_name:((ne=i.employee)==null?void 0:ne.emergency_contact_name)||"",emergency_contact_relationship:((ie=i.employee)==null?void 0:ie.emergency_contact_relationship)||"",emergency_contact_number:((le=i.employee)==null?void 0:le.emergency_contact_number)||"",bank_name:((de=i.employee)==null?void 0:de.bank_name)||"",account_holder_name:((ce=i.employee)==null?void 0:ce.account_holder_name)||"",account_number:((oe=i.employee)==null?void 0:oe.account_number)||"",bank_identifier_code:((me=i.employee)==null?void 0:me.bank_identifier_code)||"",bank_branch:((xe=i.employee)==null?void 0:xe.bank_branch)||"",tax_payer_id:((he=i.employee)==null?void 0:he.tax_payer_id)||"",documents:[]}),[a,F]=g.useState({}),[R,I]=g.useState(!1),[O,Be]=g.useState(null),[Ae,Ve]=g.useState(i.avatar?k(i.avatar):null),[$,Ne]=g.useState(((pe=i.employee)==null?void 0:pe.documents)||[]),[b,T]=g.useState([]),ve=n.branch_id?V.filter(s=>s.branch_id===parseInt(n.branch_id)):V,be=n.department_id?L.filter(s=>s.department_id===parseInt(n.department_id)):L,d=(s,r)=>{P(c=>({...c,[s]:r})),a[s]&&F(c=>{const o={...c};return delete o[s],o}),s==="branch_id"&&P(c=>({...c,branch_id:r,department_id:"",designation_id:""})),s==="department_id"&&P(c=>({...c,department_id:r,designation_id:""}))},B=(s,r,c)=>{const o=[...b];o[s]={...o[s],[r]:c},T(o);const h=`new_documents.${s}.${r}`;a[h]&&F(De=>{const _e={...De};return delete _e[h],_e})},Ce=()=>{T([...b,{document_type_id:"",file:null,expiry_date:""}])},we=s=>{const r=[...b];r.splice(s,1),T(r);const c={...a};Object.keys(c).forEach(o=>{o.startsWith(`new_documents.${s}.`)&&delete c[o]}),F(c)},Se=s=>{p.loading(t("Deleting document...")),C.delete(route("hr.employees.documents.destroy",s),{onSuccess:r=>{p.dismiss(),r.props.flash.success?p.success(t(r.props.flash.success)):r.props.flash.error&&p.error(t(r.props.flash.error)),Ne($.filter(c=>c.id!==s))},onError:r=>{p.dismiss(),typeof r=="string"?p.error(t(r)):p.error(t("Failed to delete document: {{errors}}",{errors:Object.values(r).join(", ")}))}})},Fe=s=>{var c;s.preventDefault(),I(!0);const r=new FormData;r.append("_method","PUT"),Object.entries(n).forEach(([o,h])=>{o!=="documents"&&h!=null&&h!==""&&r.append(o,h)}),O&&r.append("profile_image",O),b.forEach((o,h)=>{o.document_type_id&&r.append(`documents[${h}][document_type_id]`,o.document_type_id),o.file_path&&r.append(`documents[${h}][file_path]`,o.file_path),o.expiry_date&&r.append(`documents[${h}][expiry_date]`,o.expiry_date)}),C.post(route("hr.employees.update",(c=i.employee)==null?void 0:c.id),r,{onSuccess:o=>{I(!1),o.props.flash.success&&p.success(t(o.props.flash.success)),C.get(route("hr.employees.index"))},onError:o=>{I(!1),F(o),p.error(t("Please correct the errors in the form"))}})},ke=[{title:t("Dashboard"),href:route("dashboard")},{title:t("HR Management"),href:route("hr.employees.index")},{title:t("Employees"),href:route("hr.employees.index")},{title:t("Edit Employee")}];return e.jsx(Ee,{title:t("Edit Employee"),url:`/hr/employees/${i.id}/edit`,breadcrumbs:ke,actions:[{label:t("Back to Employees"),icon:e.jsx(Te,{className:"h-4 w-4 mr-2"}),variant:"outline",onClick:()=>C.get(route("hr.employees.index"))}],children:e.jsxs("form",{onSubmit:Fe,className:"space-y-6",children:[e.jsxs(f,{children:[e.jsx(w,{children:e.jsx(S,{children:t("Basic Information")})}),e.jsx(N,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"name",children:[t("Full Name")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{id:"name",value:n.name,onChange:s=>d("name",s.target.value),className:a.name?"border-red-500":""}),a.name&&e.jsx("p",{className:"text-red-500 text-xs",children:a.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"employee_id",children:[t("Employee ID")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{id:"employee_id",value:n.employee_id,onChange:s=>d("employee_id",s.target.value),className:a.employee_id?"border-red-500":""}),a.employee_id&&e.jsx("p",{className:"text-red-500 text-xs",children:a.employee_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"email",children:[t("Email")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(m,{id:"email",type:"email",value:n.email,onChange:s=>d("email",s.target.value),className:a.email?"border-red-500":""}),a.email&&e.jsx("p",{className:"text-red-500 text-xs",children:a.email})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:"password",children:[t("Password")," ",e.jsx("span",{className:"text-sm text-muted-foreground",children:t("(Leave blank to keep current)")})]}),e.jsx(m,{id:"password",type:"password",value:n.password,onChange:s=>d("password",s.target.value),className:a.password?"border-red-500":""}),a.password&&e.jsx("p",{className:"text-red-500 text-xs",children:a.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"phone",children:t("Phone Number")}),e.jsx(m,{id:"phone",value:n.phone,onChange:s=>d("phone",s.target.value),className:a.phone?"border-red-500":""}),a.phone&&e.jsx("p",{className:"text-red-500 text-xs",children:a.phone})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"date_of_birth",children:t("Date of Birth")}),e.jsx(m,{id:"date_of_birth",type:"date",value:n.date_of_birth,onChange:s=>d("date_of_birth",s.target.value),className:a.date_of_birth?"border-red-500":""}),a.date_of_birth&&e.jsx("p",{className:"text-red-500 text-xs",children:a.date_of_birth})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:t("Gender")}),e.jsxs($e,{value:n.gender,onValueChange:s=>d("gender",s),className:"flex space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{value:"male",id:"gender-male"}),e.jsx(l,{htmlFor:"gender-male",children:t("Male")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{value:"female",id:"gender-female"}),e.jsx(l,{htmlFor:"gender-female",children:t("Female")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{value:"other",id:"gender-other"}),e.jsx(l,{htmlFor:"gender-other",children:t("Other")})]})]}),a.gender&&e.jsx("p",{className:"text-red-500 text-xs",children:a.gender})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:t("Profile Image")}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("div",{className:"border rounded-md p-4 flex items-center justify-center bg-muted/30 h-32",children:n.profile_image||i.avatar?e.jsx("img",{src:n.profile_image?k(n.profile_image):k(i.avatar),alt:"Profile Image",className:"max-h-full max-w-full object-contain rounded-full"}):e.jsxs("div",{className:"text-muted-foreground flex flex-col items-center gap-2",children:[e.jsx("div",{className:"h-12 w-12 bg-muted flex items-center justify-center rounded-full border border-dashed",children:e.jsx("span",{className:"font-semibold text-xs text-muted-foreground",children:t("Image")})}),e.jsx("span",{className:"text-xs",children:"No image selected"})]})}),e.jsx(ue,{label:"",value:n.profile_image||i.avatar||"",onChange:s=>d("profile_image",s),placeholder:"Select profile image...",showPreview:!1})]}),a.profile_image&&e.jsx("p",{className:"text-red-500 text-xs",children:a.profile_image})]})]})})]}),e.jsxs(f,{children:[e.jsx(w,{children:e.jsx(S,{children:t("Employment Details")})}),e.jsx(N,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"branch_id",children:t("Branch")}),e.jsxs(_,{value:n.branch_id,onValueChange:s=>d("branch_id",s),children:[e.jsx(u,{className:a.branch_id?"border-red-500":"",children:e.jsx(j,{placeholder:t("Select Branch")})}),e.jsx(y,{children:ge.map(s=>e.jsx(x,{value:s.id.toString(),children:s.name},s.id))})]}),a.branch_id&&e.jsx("p",{className:"text-red-500 text-xs",children:a.branch_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"department_id",children:t("Department")}),e.jsxs(_,{value:n.department_id,onValueChange:s=>d("department_id",s),disabled:!n.branch_id,children:[e.jsx(u,{className:a.department_id?"border-red-500":"",children:e.jsx(j,{placeholder:n.branch_id?t("Select Department"):t("Select Branch First")})}),e.jsx(y,{children:ve.map(s=>e.jsx(x,{value:s.id.toString(),children:s.name},s.id))})]}),a.department_id&&e.jsx("p",{className:"text-red-500 text-xs",children:a.department_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"designation_id",children:t("Designation")}),e.jsxs(_,{value:n.designation_id,onValueChange:s=>d("designation_id",s),disabled:!n.department_id,children:[e.jsx(u,{className:a.designation_id?"border-red-500":"",children:e.jsx(j,{placeholder:n.department_id?t("Select Designation"):t("Select Department First")})}),e.jsx(y,{children:be.map(s=>e.jsx(x,{value:s.id.toString(),children:s.name},s.id))})]}),a.designation_id&&e.jsx("p",{className:"text-red-500 text-xs",children:a.designation_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"date_of_joining",children:t("Date of Joining")}),e.jsx(m,{id:"date_of_joining",type:"date",value:n.date_of_joining,onChange:s=>d("date_of_joining",s.target.value),className:a.date_of_joining?"border-red-500":""}),a.date_of_joining&&e.jsx("p",{className:"text-red-500 text-xs",children:a.date_of_joining})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"employment_type",children:t("Employment Type")}),e.jsxs(_,{value:n.employment_type,onValueChange:s=>d("employment_type",s),children:[e.jsx(u,{className:a.employment_type?"border-red-500":"",children:e.jsx(j,{placeholder:t("Select Employment Type")})}),e.jsxs(y,{children:[e.jsx(x,{value:"Full-time",children:t("Full-time")}),e.jsx(x,{value:"Part-time",children:t("Part-time")}),e.jsx(x,{value:"Contract",children:t("Contract")}),e.jsx(x,{value:"Internship",children:t("Internship")}),e.jsx(x,{value:"Temporary",children:t("Temporary")})]})]}),a.employment_type&&e.jsx("p",{className:"text-red-500 text-xs",children:a.employment_type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"employment_status",children:t("Employment Status")}),e.jsxs(_,{value:n.employment_status,onValueChange:s=>d("employment_status",s),children:[e.jsx(u,{className:a.employment_status?"border-red-500":"",children:e.jsx(j,{placeholder:t("Select Employment Status")})}),e.jsxs(y,{children:[e.jsx(x,{value:"active",children:t("Active")}),e.jsx(x,{value:"inactive",children:t("Inactive")}),e.jsx(x,{value:"probation",children:t("Probation")}),e.jsx(x,{value:"terminated",children:t("Terminated")})]})]}),a.employment_status&&e.jsx("p",{className:"text-red-500 text-xs",children:a.employment_status})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"shift_id",children:t("Shift")}),e.jsxs(_,{value:n.shift_id,onValueChange:s=>d("shift_id",s),children:[e.jsx(u,{className:a.shift_id?"border-red-500":"",children:e.jsx(j,{placeholder:t("Select Shift (Optional)")})}),e.jsx(y,{children:D==null?void 0:D.map(s=>e.jsxs(x,{value:s.id.toString(),children:[s.name," (",s.start_time," - ",s.end_time,")"]},s.id))})]}),a.shift_id&&e.jsx("p",{className:"text-red-500 text-xs",children:a.shift_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"attendance_policy_id",children:t("Attendance Policy")}),e.jsxs(_,{value:n.attendance_policy_id,onValueChange:s=>d("attendance_policy_id",s),children:[e.jsx(u,{className:a.attendance_policy_id?"border-red-500":"",children:e.jsx(j,{placeholder:t("Select Attendance Policy (Optional)")})}),e.jsx(y,{children:E==null?void 0:E.map(s=>e.jsx(x,{value:s.id.toString(),children:s.name},s.id))})]}),a.attendance_policy_id&&e.jsx("p",{className:"text-red-500 text-xs",children:a.attendance_policy_id})]})]})})]}),e.jsxs(f,{children:[e.jsx(w,{children:e.jsx(S,{children:t("Contact Information")})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"address_line_1",children:t("Address Line 1")}),e.jsx(m,{id:"address_line_1",value:n.address_line_1,onChange:s=>d("address_line_1",s.target.value),className:a.address_line_1?"border-red-500":""}),a.address_line_1&&e.jsx("p",{className:"text-red-500 text-xs",children:a.address_line_1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"address_line_2",children:t("Address Line 2")}),e.jsx(m,{id:"address_line_2",value:n.address_line_2,onChange:s=>d("address_line_2",s.target.value),className:a.address_line_2?"border-red-500":""}),a.address_line_2&&e.jsx("p",{className:"text-red-500 text-xs",children:a.address_line_2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"city",children:t("City")}),e.jsx(m,{id:"city",value:n.city,onChange:s=>d("city",s.target.value),className:a.city?"border-red-500":""}),a.city&&e.jsx("p",{className:"text-red-500 text-xs",children:a.city})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"state",children:t("State/Province")}),e.jsx(m,{id:"state",value:n.state,onChange:s=>d("state",s.target.value),className:a.state?"border-red-500":""}),a.state&&e.jsx("p",{className:"text-red-500 text-xs",children:a.state})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"country",children:t("Country")}),e.jsx(m,{id:"country",value:n.country,onChange:s=>d("country",s.target.value),className:a.country?"border-red-500":""}),a.country&&e.jsx("p",{className:"text-red-500 text-xs",children:a.country})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"postal_code",children:t("Postal/Zip Code")}),e.jsx(m,{id:"postal_code",value:n.postal_code,onChange:s=>d("postal_code",s.target.value),className:a.postal_code?"border-red-500":""}),a.postal_code&&e.jsx("p",{className:"text-red-500 text-xs",children:a.postal_code})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:t("Emergency Contact")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"emergency_contact_name",children:t("Name")}),e.jsx(m,{id:"emergency_contact_name",value:n.emergency_contact_name,onChange:s=>d("emergency_contact_name",s.target.value),className:a.emergency_contact_name?"border-red-500":""}),a.emergency_contact_name&&e.jsx("p",{className:"text-red-500 text-xs",children:a.emergency_contact_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"emergency_contact_relationship",children:t("Relationship")}),e.jsx(m,{id:"emergency_contact_relationship",value:n.emergency_contact_relationship,onChange:s=>d("emergency_contact_relationship",s.target.value),className:a.emergency_contact_relationship?"border-red-500":""}),a.emergency_contact_relationship&&e.jsx("p",{className:"text-red-500 text-xs",children:a.emergency_contact_relationship})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"emergency_contact_number",children:t("Phone Number")}),e.jsx(m,{id:"emergency_contact_number",value:n.emergency_contact_number,onChange:s=>d("emergency_contact_number",s.target.value),className:a.emergency_contact_number?"border-red-500":""}),a.emergency_contact_number&&e.jsx("p",{className:"text-red-500 text-xs",children:a.emergency_contact_number})]})]})]})]})]}),e.jsxs(f,{children:[e.jsx(w,{children:e.jsx(S,{children:t("Banking Information")})}),e.jsx(N,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"bank_name",children:t("Bank Name")}),e.jsx(m,{id:"bank_name",value:n.bank_name,onChange:s=>d("bank_name",s.target.value),className:a.bank_name?"border-red-500":""}),a.bank_name&&e.jsx("p",{className:"text-red-500 text-xs",children:a.bank_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"account_holder_name",children:t("Account Holder Name")}),e.jsx(m,{id:"account_holder_name",value:n.account_holder_name,onChange:s=>d("account_holder_name",s.target.value),className:a.account_holder_name?"border-red-500":""}),a.account_holder_name&&e.jsx("p",{className:"text-red-500 text-xs",children:a.account_holder_name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"account_number",children:t("Account Number")}),e.jsx(m,{id:"account_number",value:n.account_number,onChange:s=>d("account_number",s.target.value),className:a.account_number?"border-red-500":""}),a.account_number&&e.jsx("p",{className:"text-red-500 text-xs",children:a.account_number})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"bank_identifier_code",children:t("Bank Identifier Code (BIC/SWIFT)")}),e.jsx(m,{id:"bank_identifier_code",value:n.bank_identifier_code,onChange:s=>d("bank_identifier_code",s.target.value),className:a.bank_identifier_code?"border-red-500":""}),a.bank_identifier_code&&e.jsx("p",{className:"text-red-500 text-xs",children:a.bank_identifier_code})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"bank_branch",children:t("Bank Branch")}),e.jsx(m,{id:"bank_branch",value:n.bank_branch,onChange:s=>d("bank_branch",s.target.value),className:a.bank_branch?"border-red-500":""}),a.bank_branch&&e.jsx("p",{className:"text-red-500 text-xs",children:a.bank_branch})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"tax_payer_id",children:t("Tax Payer ID")}),e.jsx(m,{id:"tax_payer_id",value:n.tax_payer_id,onChange:s=>d("tax_payer_id",s.target.value),className:a.tax_payer_id?"border-red-500":""}),a.tax_payer_id&&e.jsx("p",{className:"text-red-500 text-xs",children:a.tax_payer_id})]})]})})]}),e.jsxs(f,{children:[e.jsx(w,{children:e.jsx(S,{children:t("Documents")})}),e.jsxs(N,{className:"space-y-4",children:[$.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:t("Existing Documents")}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:$.map(s=>{var r;return e.jsx(f,{className:"border",children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:(r=s.document_type)==null?void 0:r.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.expiry_date?`${t("Expires")}: ${new Date(s.expiry_date).toLocaleDateString()}`:t("No expiry date")}),e.jsx("div",{className:`inline-flex items-center rounded-md px-2 py-1 text-xs font-medium mt-2 ${s.verification_status==="verified"?"bg-green-50 text-green-700 ring-1 ring-inset ring-green-600/20":s.verification_status==="rejected"?"bg-red-50 text-red-700 ring-1 ring-inset ring-red-600/20":"bg-yellow-50 text-yellow-700 ring-1 ring-inset ring-yellow-600/20"}`,children:s.verification_status==="verified"?t("Verified"):s.verification_status==="rejected"?t("Rejected"):t("Pending")})]})}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(v,{variant:"outline",size:"sm",onClick:()=>window.open(`${s.file_path}`,"_blank"),children:e.jsx(je,{className:"h-4 w-4"})}),e.jsx(v,{variant:"outline",size:"sm",onClick:()=>Se(s.id),children:e.jsx(ye,{className:"h-4 w-4 text-red-500"})})]})]})})},s.id)})})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:t("Add New Documents")}),b.map((s,r)=>e.jsxs("div",{className:"border rounded-md p-4 space-y-4 mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("h3",{className:"text-lg font-medium",children:[t("Document")," #",r+1]}),e.jsx(v,{type:"button",variant:"ghost",size:"sm",onClick:()=>we(r),children:e.jsx(ye,{className:"h-4 w-4 text-red-500"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{htmlFor:`document_type_${r}`,children:[t("Document Type")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(_,{value:s.document_type_id,onValueChange:c=>B(r,"document_type_id",c),children:[e.jsx(u,{className:a[`new_documents.${r}.document_type_id`]?"border-red-500":"",children:e.jsx(j,{placeholder:t("Select Document Type")})}),e.jsx(y,{children:fe.map(c=>e.jsxs(x,{value:c.id.toString(),children:[c.name," ",c.is_required&&e.jsx("span",{className:"text-red-500",children:"*"})]},c.id))})]}),a[`new_documents.${r}.document_type_id`]&&e.jsx("p",{className:"text-red-500 text-xs",children:a[`new_documents.${r}.document_type_id`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(l,{children:[t("File")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("div",{className:"border rounded-md p-4 flex items-center justify-center bg-muted/30 h-20",children:s.file_path?e.jsx("img",{src:k(s.file_path),alt:"Document Preview",className:"max-h-full max-w-full object-contain"}):e.jsxs("div",{className:"text-muted-foreground flex flex-col items-center gap-1",children:[e.jsx("div",{className:"h-8 w-8 bg-muted flex items-center justify-center rounded border border-dashed",children:e.jsx("span",{className:"font-semibold text-xs text-muted-foreground",children:t("Doc")})}),e.jsx("span",{className:"text-xs",children:"No file selected"})]})}),e.jsx(ue,{label:"",value:s.file_path||"",onChange:c=>B(r,"file_path",c),placeholder:"Select document file...",showPreview:!1})]}),a[`new_documents.${r}.file`]&&e.jsx("p",{className:"text-red-500 text-xs",children:a[`new_documents.${r}.file`]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:`document_expiry_${r}`,children:t("Expiry Date")}),e.jsx(m,{id:`document_expiry_${r}`,type:"date",value:s.expiry_date,onChange:c=>B(r,"expiry_date",c.target.value),className:a[`new_documents.${r}.expiry_date`]?"border-red-500":""}),a[`new_documents.${r}.expiry_date`]&&e.jsx("p",{className:"text-red-500 text-xs",children:a[`new_documents.${r}.expiry_date`]})]})]})]},r)),e.jsxs(v,{type:"button",variant:"outline",onClick:Ce,className:"mt-4",children:[e.jsx(je,{className:"h-4 w-4 mr-2"}),t("Add Document")]})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-4",children:[e.jsx(v,{type:"button",variant:"outline",onClick:()=>C.get(route("hr.employees.index")),children:t("Cancel")}),e.jsx(v,{type:"submit",disabled:R,children:t(R?"Saving...":"Update Employee")})]})]})})}export{xs as default};
