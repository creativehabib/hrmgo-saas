import{r as y,j as e}from"./ui-C9UzXxo-.js";import{P as R}from"./page-template-B2HXPu-s.js";import{u as E,K as F,C as D,q,r as I,w as V,p as P,L as c,I as T,x as $,B as f,t as d,S as w}from"./app-CePVSpCk.js";import{S as p,a as h,b as v,c as x,d as o}from"./select-79vLaRYu.js";import"./vendor-CxtKjBZA.js";import"./textarea-CiZFgYfM.js";import"./language-BWaL1pXC.js";import"./CookieConsentBanner-9JM6Tk5v.js";import"./globe-DIoyL4mD.js";import"./switch-BT9_4soN.js";import"./copy-BbEiGrsE.js";import"./chevron-up-FpzKnv5W.js";import"./credit-card-Cw26BS3B.js";import"./settings-CabqR4KC.js";import"./dollar-sign-BZxmLz_1.js";import"./users-B2V-gWAi.js";import"./clock-DvHC5ovF.js";import"./coins-Curs0q0e.js";import"./user-Cs-z8Fus.js";import"./use-favicon-BlwZF4jE.js";/* empty css            *//* empty css                  */import"./utils-2yqaTY3d.js";import"./index-BK2YBUn9.js";function de(){const{t:r}=E(),{employees:j,reviewCycles:S}=F().props,[l,_]=y.useState({employee_id:"",reviewer_id:"",review_cycle_id:"",review_date:"",status:"scheduled"}),[i,n]=y.useState({}),g=s=>{const{name:t,value:a}=s.target;_(u=>({...u,[t]:a})),i[t]&&n(u=>({...u,[t]:null}))},m=(s,t)=>{_(a=>({...a,[s]:t})),i[s]&&n(a=>({...a,[s]:null}))},C=s=>{s.preventDefault();const t={};if(l.employee_id||(t.employee_id=r("Employee is required")),l.reviewer_id||(t.reviewer_id=r("Reviewer is required")),l.review_cycle_id||(t.review_cycle_id=r("Review cycle is required")),l.review_date||(t.review_date=r("Review date is required")),Object.keys(t).length>0){n(t);return}d.loading(r("Scheduling employee review...")),w.post(route("hr.performance.employee-reviews.store"),l,{onSuccess:a=>{d.dismiss(),a.props.flash.success&&d.success(r(a.props.flash.success)),w.visit(route("hr.performance.employee-reviews.index"))},onError:a=>{d.dismiss(),n(a),typeof a=="string"?d.error(r(a)):d.error(r("Failed to schedule employee review"))}})},N=()=>{w.visit(route("hr.performance.employee-reviews.index"))},b=[{title:r("Dashboard"),href:route("dashboard")},{title:r("HR Management"),href:route("hr.performance.employee-reviews.index")},{title:r("Performance"),href:route("hr.performance.employee-reviews.index")},{title:r("Employee Reviews"),href:route("hr.performance.employee-reviews.index")},{title:r("Schedule Review")}];return e.jsx(R,{title:r("Schedule Employee Review"),url:"/hr/performance/employee-reviews/create",breadcrumbs:b,children:e.jsx("form",{onSubmit:C,children:e.jsxs(D,{children:[e.jsxs(q,{children:[e.jsx(I,{children:r("Schedule New Review")}),e.jsx(V,{children:r("Create a new performance review for an employee")})]}),e.jsx(P,{className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"employee_id",children:[r("Employee")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(p,{value:l.employee_id,onValueChange:s=>m("employee_id",s),children:[e.jsx(h,{className:i.employee_id?"border-red-500":"",children:e.jsx(v,{placeholder:r("Select employee")})}),e.jsx(x,{children:j.map(s=>e.jsx(o,{value:s.id.toString(),children:`${s.name} (${s.employee_id})`},s.id))})]}),i.employee_id&&e.jsx("p",{className:"text-red-500 text-sm",children:i.employee_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"reviewer_id",children:[r("Reviewer")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(p,{value:l.reviewer_id,onValueChange:s=>m("reviewer_id",s),children:[e.jsx(h,{className:i.reviewer_id?"border-red-500":"",children:e.jsx(v,{placeholder:r("Select reviewer")})}),e.jsx(x,{children:j.map(s=>e.jsx(o,{value:s.id.toString(),children:`${s.name} (${s.employee_id})`},s.id))})]}),i.reviewer_id&&e.jsx("p",{className:"text-red-500 text-sm",children:i.reviewer_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"review_cycle_id",children:[r("Review Cycle")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(p,{value:l.review_cycle_id,onValueChange:s=>m("review_cycle_id",s),children:[e.jsx(h,{className:i.review_cycle_id?"border-red-500":"",children:e.jsx(v,{placeholder:r("Select review cycle")})}),e.jsx(x,{children:S.map(s=>e.jsx(o,{value:s.id.toString(),children:s.name},s.id))})]}),i.review_cycle_id&&e.jsx("p",{className:"text-red-500 text-sm",children:i.review_cycle_id})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"review_date",children:[r("Review Date")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(T,{id:"review_date",name:"review_date",type:"date",value:l.review_date,onChange:g,className:i.review_date?"border-red-500":""}),i.review_date&&e.jsx("p",{className:"text-red-500 text-sm",children:i.review_date})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"status",children:r("Status")}),e.jsxs(p,{value:l.status,onValueChange:s=>m("status",s),children:[e.jsx(h,{children:e.jsx(v,{placeholder:r("Select status")})}),e.jsxs(x,{children:[e.jsx(o,{value:"scheduled",children:r("Scheduled")}),e.jsx(o,{value:"in_progress",children:r("In Progress")})]})]})]})]})}),e.jsxs($,{className:"flex justify-between",children:[e.jsx(f,{type:"button",variant:"outline",onClick:N,children:r("Cancel")}),e.jsx(f,{type:"submit",children:r("Schedule Review")})]})]})})})}export{de as default};
